

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_f7c89dbd63e8f34e572fe939945c15d7.html">drv</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">timer.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="os_8h_source.html">cfg/os.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="macros_8h_source.html">cfg/macros.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="attr_8h_source.html">cpu/attr.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cpu_2irq_8h_source.html">cpu/irq.h</a>&gt;</code><br/>
<code>#include &lt;PP_STRINGIZE(drv/PP_CAT3(timer, _, CPU_ID).h)&gt;</code><br/>
<code>#include &quot;<a class="el" href="cfg__timer_8h_source.html">cfg/cfg_timer.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="debug_8h_source.html">cfg/debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="compiler_8h_source.html">cfg/compiler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">struct/list.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="event_8h_source.html">mware/event.h</a>&gt;</code><br/>
</div>
<p><a href="timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimer.html">Timer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The timer driver supports multiple synchronous timers that can trigger an event when they expire.  <a href="structTimer.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga40ea9215551098e4d4e1f58cc687e69b">synctimer_abort</a>(t)&#160;&#160;&#160;timer_abort(t)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gadc48ccae1f609e329b7bcb153622b8c4">timer_clock</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the system tick counter (expressed in ticks)  <a href="group__drv__timers.html#gadc48ccae1f609e329b7bcb153622b8c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga91dc8903e46f81c8490adaec8f2b5069">timer_clock_unlocked</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Faster version of <a class="el" href="group__drv__timers.html#gadc48ccae1f609e329b7bcb153622b8c4" title="Return the system tick counter (expressed in ticks)">timer_clock()</a>, to be called only when the timer interrupt is disabled (DISABLE_INTS) or overridden by a higher-priority or non-nesting interrupt.  <a href="group__drv__timers.html#ga91dc8903e46f81c8490adaec8f2b5069"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga1058ec50197d9ff9483be09612022929">ms_to_ticks</a> (<a class="el" href="compiler_8h.html#ac6f57181b1edf6b9b510c8a1a66201c1">mtime_t</a> ms)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>ms</em> [ms] to ticks.  <a href="group__drv__timers.html#ga1058ec50197d9ff9483be09612022929"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gafacb3940d04dceeabb9fe405fdfc69d9">us_to_ticks</a> (<a class="el" href="compiler_8h.html#ac439914e9bd78be702b64d8dbc8816aa">utime_t</a> us)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>us</em> [us] to ticks.  <a href="group__drv__timers.html#gafacb3940d04dceeabb9fe405fdfc69d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#ac6f57181b1edf6b9b510c8a1a66201c1">mtime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gadf5cdcf8fd13e7b4c55a4050de5e603c">ticks_to_ms</a> (<a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a> ticks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>ticks</em> [ticks] to ms.  <a href="group__drv__timers.html#gadf5cdcf8fd13e7b4c55a4050de5e603c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#ac439914e9bd78be702b64d8dbc8816aa">utime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga4e220e6a96836ebf697dd5a09181f69f">ticks_to_us</a> (<a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a> ticks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>ticks</em> [ticks] to us.  <a href="group__drv__timers.html#ga4e220e6a96836ebf697dd5a09181f69f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga70225249121c80ec37dd84f1ad3c3aeb"></a><!-- doxytag: member="timer.h::us_to_hptime" ref="ga70225249121c80ec37dd84f1ad3c3aeb" args="(utime_t us)" -->
<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga70225249121c80ec37dd84f1ad3c3aeb">us_to_hptime</a> (<a class="el" href="compiler_8h.html#ac439914e9bd78be702b64d8dbc8816aa">utime_t</a> us)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>us</em> [us] to hpticks. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf9a389338d010ad77bf863d4fcef26d4"></a><!-- doxytag: member="timer.h::hptime_to_us" ref="gaf9a389338d010ad77bf863d4fcef26d4" args="(hptime_t hpticks)" -->
<a class="el" href="compiler_8h.html#ac439914e9bd78be702b64d8dbc8816aa">utime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gaf9a389338d010ad77bf863d4fcef26d4">hptime_to_us</a> (<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a> hpticks)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <em>hpticks</em> [hptime] to usec. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gac497fa7bd2e2ee77b4dcf765b1e24894">timer_delayTicks</a> (<a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the specified amount of timer ticks.  <a href="group__drv__timers.html#gac497fa7bd2e2ee77b4dcf765b1e24894"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gace6fb3d382bd740f9cee1b139e12f7a6">timer_delay</a> (<a class="el" href="compiler_8h.html#ac6f57181b1edf6b9b510c8a1a66201c1">mtime_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait some time [ms].  <a href="group__drv__timers.html#gace6fb3d382bd740f9cee1b139e12f7a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga1243060e36ef4739b9d5cc50e8e4f27a">timer_busyWait</a> (<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy wait until the specified amount of high-precision ticks have elapsed.  <a href="group__drv__timers.html#ga1243060e36ef4739b9d5cc50e8e4f27a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga3407c46c6b439217c694ed4372336330">timer_delayHp</a> (<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the specified amount of time (expressed in microseconds).  <a href="group__drv__timers.html#ga3407c46c6b439217c694ed4372336330"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga31b280936e453dff724b326c0309af4c">timer_add</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the specified timer to the software timer service queue.  <a href="group__drv__timers.html#ga31b280936e453dff724b326c0309af4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTimer.html">Timer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga083b16dd889741b74ca1142fd6498ae9">timer_abort</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a timer from the timers queue before it has expired.  <a href="group__drv__timers.html#ga083b16dd889741b74ca1142fd6498ae9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga05183713aaa5b341bcda25af3837a111">timer_setSoftint</a> (<a class="el" href="structTimer.html">Timer</a> *timer, <a class="el" href="compiler_8h.html#a29da6a2c5167c69f4e05da8466f2b339">Hook</a> func, <a class="el" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc">iptr_t</a> user_data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timer so that it calls an user hook when it expires.  <a href="group__drv__timers.html#ga05183713aaa5b341bcda25af3837a111"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga74311fd08b3bfdecb496f16b7465715b">timer_setDelay</a> (<a class="el" href="structTimer.html">Timer</a> *timer, <a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timer delay (the time before the event will be triggered)  <a href="group__drv__timers.html#ga74311fd08b3bfdecb496f16b7465715b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gaceda10d0921ceb0e991744fd6760b454">synctimer_add</a> (<a class="el" href="structTimer.html">Timer</a> *timer, <a class="el" href="structList.html">List</a> *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add <em>timer</em> to <em>queue</em>.  <a href="group__drv__timers.html#gaceda10d0921ceb0e991744fd6760b454"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga8ef6c10d089728296204e5e03cf39863">synctimer_poll</a> (<a class="el" href="structList.html">List</a> *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple synchronous timer based scheduler polling routine.  <a href="group__drv__timers.html#ga8ef6c10d089728296204e5e03cf39863"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab0b325030f6245240487f9ff4e885f88"></a><!-- doxytag: member="timer.h::timer_setEvent" ref="gab0b325030f6245240487f9ff4e885f88" args="(Timer *timer)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gab0b325030f6245240487f9ff4e885f88">timer_setEvent</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timer so that it sends a event notification when it expires. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9265c1b69b3c4fcd509e227b56bc3e45"></a><!-- doxytag: member="timer.h::timer_waitEvent" ref="ga9265c1b69b3c4fcd509e227b56bc3e45" args="(Timer *timer)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga9265c1b69b3c4fcd509e227b56bc3e45">timer_waitEvent</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the timer expires. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa68dbdace6460cd22586a63f6da31290"></a><!-- doxytag: member="timer.h::timer_setSignal" ref="gaa68dbdace6460cd22586a63f6da31290" args="(Timer *timer, struct Process *proc, sigmask_t sigs)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gaa68dbdace6460cd22586a63f6da31290">timer_setSignal</a> (<a class="el" href="structTimer.html">Timer</a> *timer, struct Process *proc, <a class="el" href="compiler_8h.html#a8eab9d9d79ff58f19a5a51e821d95330">sigmask_t</a> sigs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timer so that it sends a signal when it expires. <br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4b50915a13f7782dff7fb06333b1aae8"></a><!-- doxytag: member="timer.h::_clock" ref="ga4b50915a13f7782dff7fb06333b1aae8" args="" -->
volatile <a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga4b50915a13f7782dff7fb06333b1aae8">_clock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Master system clock (1 tick accuracy) <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition in file <a class="el" href="timer_8h_source.html">timer.h</a>.</p>
</div></div>


