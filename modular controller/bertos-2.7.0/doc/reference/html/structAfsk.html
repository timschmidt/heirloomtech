

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Afsk Struct Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Afsk" -->
<p>AFSK1200 modem context.  
 <a href="structAfsk.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="afsk_8h_source.html">afsk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a400e243f28952b2b2f887a7f783dbe41"></a><!-- doxytag: member="Afsk::fd" ref="a400e243f28952b2b2f887a7f783dbe41" args="" -->
<a class="el" href="structKFile.html">KFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a400e243f28952b2b2f887a7f783dbe41">fd</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Base "class". <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87ffdb2908a82024359e4370daceba20"></a><!-- doxytag: member="Afsk::adc_ch" ref="a87ffdb2908a82024359e4370daceba20" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a87ffdb2908a82024359e4370daceba20">adc_ch</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC channel to be used by the demodulator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c9534024bfe0b337f7b4393205861a1"></a><!-- doxytag: member="Afsk::dac_ch" ref="a2c9534024bfe0b337f7b4393205861a1" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a2c9534024bfe0b337f7b4393205861a1">dac_ch</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DAC channel to be used by the modulator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a8f44f065777e87c39a166cb35cb65423">sample_count</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current sample of bit for output data.  <a href="#a8f44f065777e87c39a166cb35cb65423"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab381825bf84dfbd8dd257668afe6f87"></a><!-- doxytag: member="Afsk::curr_out" ref="aab381825bf84dfbd8dd257668afe6f87" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#aab381825bf84dfbd8dd257668afe6f87">curr_out</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current character to be modulated. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52749b0074acb4796cee6f42cd973d32"></a><!-- doxytag: member="Afsk::tx_bit" ref="a52749b0074acb4796cee6f42cd973d32" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a52749b0074acb4796cee6f42cd973d32">tx_bit</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask of current modulated bit. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0aa86a2b90706f920162093a573e08f8"></a><!-- doxytag: member="Afsk::bit_stuff" ref="a0aa86a2b90706f920162093a573e08f8" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a0aa86a2b90706f920162093a573e08f8">bit_stuff</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">True if bit stuff is allowed, false otherwise. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac00a531d67d24264b3562d1734d73dc8"></a><!-- doxytag: member="Afsk::stuff_cnt" ref="ac00a531d67d24264b3562d1734d73dc8" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#ac00a531d67d24264b3562d1734d73dc8">stuff_cnt</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for bit stuffing. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d41b4801cd66792aeb5138c8161b7ed"></a><!-- doxytag: member="Afsk::phase_acc" ref="a4d41b4801cd66792aeb5138c8161b7ed" args="" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a4d41b4801cd66792aeb5138c8161b7ed">phase_acc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DDS phase accumulator for generating modulated data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f5dfd46245eae82247bac8318dde2ce"></a><!-- doxytag: member="Afsk::phase_inc" ref="a7f5dfd46245eae82247bac8318dde2ce" args="" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a7f5dfd46245eae82247bac8318dde2ce">phase_inc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current phase increment for current modulated bit. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23cfc1d161728b380d82ff7e415a7ea6"></a><!-- doxytag: member="Afsk::delay_fifo" ref="a23cfc1d161728b380d82ff7e415a7ea6" args="" -->
FIFOBuffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a23cfc1d161728b380d82ff7e415a7ea6">delay_fifo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay line used to delay samples by (SAMPLEPERBIT / 2) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a084d32d045b018c29080f85bc02fa91d">delay_buf</a> [SAMPLEPERBIT/2+1]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for delay FIFO.  <a href="#a084d32d045b018c29080f85bc02fa91d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab25b3bb05ad0a3a7c596ab024ebb09d8"></a><!-- doxytag: member="Afsk::rx_fifo" ref="ab25b3bb05ad0a3a7c596ab024ebb09d8" args="" -->
FIFOBuffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#ab25b3bb05ad0a3a7c596ab024ebb09d8">rx_fifo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FIFO for received data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a512a4e4393c8c84e226e77867a159e94"></a><!-- doxytag: member="Afsk::rx_buf" ref="a512a4e4393c8c84e226e77867a159e94" args="[CONFIG_AFSK_RX_BUFLEN]" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a512a4e4393c8c84e226e77867a159e94">rx_buf</a> [CONFIG_AFSK_RX_BUFLEN]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FIFO rx buffer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0db16217ec44719e2fd9fd77a5732892"></a><!-- doxytag: member="Afsk::tx_fifo" ref="a0db16217ec44719e2fd9fd77a5732892" args="" -->
FIFOBuffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a0db16217ec44719e2fd9fd77a5732892">tx_fifo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FIFO for transmitted data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a289a5ac353f6510ae2f5c9cad498490e"></a><!-- doxytag: member="Afsk::tx_buf" ref="a289a5ac353f6510ae2f5c9cad498490e" args="[CONFIG_AFSK_TX_BUFLEN]" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a289a5ac353f6510ae2f5c9cad498490e">tx_buf</a> [CONFIG_AFSK_TX_BUFLEN]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FIFO tx buffer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6de280e20518b46307cf5924c66d3f0d"></a><!-- doxytag: member="Afsk::iir_x" ref="a6de280e20518b46307cf5924c66d3f0d" args="[2]" -->
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a6de280e20518b46307cf5924c66d3f0d">iir_x</a> [2]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">IIR filter X cells, used to filter sampled data by the demodulator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12544e43f0190a76fa96d7fac1508dd4"></a><!-- doxytag: member="Afsk::iir_y" ref="a12544e43f0190a76fa96d7fac1508dd4" args="[2]" -->
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a12544e43f0190a76fa96d7fac1508dd4">iir_y</a> [2]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">IIR filter Y cells, used to filter sampled data by the demodulator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a61024d1d2383df2eec0118324cfa1a05">sampled_bits</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Bits sampled by the demodulator are here.  <a href="#a61024d1d2383df2eec0118324cfa1a05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac60905ae0ab33501bb597b7c66b9331b"></a><!-- doxytag: member="Afsk::curr_phase" ref="ac60905ae0ab33501bb597b7c66b9331b" args="" -->
int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#ac60905ae0ab33501bb597b7c66b9331b">curr_phase</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current phase, needed to know when the bitstream at ADC speed should be sampled. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a705350e2701cb501e6520c427f002d52">found_bits</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Bits found by the demodulator at the correct bitrate speed.  <a href="#a705350e2701cb501e6520c427f002d52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea4204b922aaf2c78708bacec08d7888"></a><!-- doxytag: member="Afsk::sending" ref="aea4204b922aaf2c78708bacec08d7888" args="" -->
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#aea4204b922aaf2c78708bacec08d7888">sending</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">True while modem sends data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a4b90678865e08c02384199c6b10aa5b5">status</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">AFSK modem status.  <a href="#a4b90678865e08c02384199c6b10aa5b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f2cf84d5882a74b33b54828e4adda6d"></a><!-- doxytag: member="Afsk::hdlc" ref="a0f2cf84d5882a74b33b54828e4adda6d" args="" -->
<a class="el" href="structHdlc.html">Hdlc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a0f2cf84d5882a74b33b54828e4adda6d">hdlc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structHdlc.html" title="HDLC (High-Level Data Link Control) context.">Hdlc</a> context. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#ae4e1603bf1a13861e017921e135ca3af">preamble_len</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Preamble length.  <a href="#ae4e1603bf1a13861e017921e135ca3af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html#a1cffeb9e88165ac3689271b970b5aab3">trailer_len</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trailer length.  <a href="#a1cffeb9e88165ac3689271b970b5aab3"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>AFSK1200 modem context. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00093">93</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>
</div><hr/><h2>Field Documentation</h2>
<a class="anchor" id="a084d32d045b018c29080f85bc02fa91d"></a><!-- doxytag: member="Afsk::delay_buf" ref="a084d32d045b018c29080f85bc02fa91d" args="[SAMPLEPERBIT/2+1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t <a class="el" href="structAfsk.html#a084d32d045b018c29080f85bc02fa91d">Afsk::delay_buf</a>[SAMPLEPERBIT/2+1]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Buffer for delay FIFO. </p>
<p>The 1 is added because the FIFO macros need 1 byte more to handle a buffer (SAMPLEPERBIT / 2) bytes long. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00134">134</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a705350e2701cb501e6520c427f002d52"></a><!-- doxytag: member="Afsk::found_bits" ref="a705350e2701cb501e6520c427f002d52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structAfsk.html#a705350e2701cb501e6520c427f002d52">Afsk::found_bits</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bits found by the demodulator at the correct bitrate speed. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00168">168</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae4e1603bf1a13861e017921e135ca3af"></a><!-- doxytag: member="Afsk::preamble_len" ref="ae4e1603bf1a13861e017921e135ca3af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="structAfsk.html#ae4e1603bf1a13861e017921e135ca3af">Afsk::preamble_len</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Preamble length. </p>
<p>When the AFSK modem wants to send data, before sending the actual data, shifts out preamble_len HDLC_FLAG characters. This helps to synchronize the demodulator filters on the receiver side. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00188">188</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8f44f065777e87c39a166cb35cb65423"></a><!-- doxytag: member="Afsk::sample_count" ref="a8f44f065777e87c39a166cb35cb65423" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structAfsk.html#a8f44f065777e87c39a166cb35cb65423">Afsk::sample_count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current sample of bit for output data. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00105">105</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a61024d1d2383df2eec0118324cfa1a05"></a><!-- doxytag: member="Afsk::sampled_bits" ref="a61024d1d2383df2eec0118324cfa1a05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structAfsk.html#a61024d1d2383df2eec0118324cfa1a05">Afsk::sampled_bits</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bits sampled by the demodulator are here. </p>
<p>Since ADC samplerate is higher than the bitrate, the bits here are SAMPLEPERBIT times the bitrate. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00159">159</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4b90678865e08c02384199c6b10aa5b5"></a><!-- doxytag: member="Afsk::status" ref="a4b90678865e08c02384199c6b10aa5b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int <a class="el" href="structAfsk.html#a4b90678865e08c02384199c6b10aa5b5">Afsk::status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>AFSK modem status. </p>
<p>If 0 all is ok, otherwise errors are present. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00177">177</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1cffeb9e88165ac3689271b970b5aab3"></a><!-- doxytag: member="Afsk::trailer_len" ref="a1cffeb9e88165ac3689271b970b5aab3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="structAfsk.html#a1cffeb9e88165ac3689271b970b5aab3">Afsk::trailer_len</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trailer length. </p>
<p>After sending the actual data, the AFSK shifts out trailer_len HDLC_FLAG characters. This helps to synchronize the demodulator filters on the receiver side. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00196">196</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="afsk_8h_source.html">afsk.h</a></li>
</ul>
</div>


