

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_a5de7543e32a5f073daa04f8834eb5fd.html">cpu</a>      </li>
      <li class="navelem"><a class="el" href="dir_3ade2df878d06c00b7da75ebdc1e74f5.html">arm</a>      </li>
      <li class="navelem"><a class="el" href="dir_4e24aa2b91963f20d8274bc66d08b02f.html">io</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">at91_twi.h</div>  </div>
</div>
<div class="contents">
<a href="at91__twi_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment"> * Copyright (C) 2006 by egnite Software GmbH. All rights reserved.</span>
<a name="l00042"></a>00042 <span class="comment"> *</span>
<a name="l00043"></a>00043 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00044"></a>00044 <span class="comment"> * modification, are permitted provided that the following conditions</span>
<a name="l00045"></a>00045 <span class="comment"> * are met:</span>
<a name="l00046"></a>00046 <span class="comment"> *</span>
<a name="l00047"></a>00047 <span class="comment"> * 1. Redistributions of source code must retain the above copyright</span>
<a name="l00048"></a>00048 <span class="comment"> *    notice, this list of conditions and the following disclaimer.</span>
<a name="l00049"></a>00049 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span>
<a name="l00050"></a>00050 <span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span>
<a name="l00051"></a>00051 <span class="comment"> *    documentation and/or other materials provided with the distribution.</span>
<a name="l00052"></a>00052 <span class="comment"> * 3. Neither the name of the copyright holders nor the names of</span>
<a name="l00053"></a>00053 <span class="comment"> *    contributors may be used to endorse or promote products derived</span>
<a name="l00054"></a>00054 <span class="comment"> *    from this software without specific prior written permission.</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY EGNITE SOFTWARE GMBH AND CONTRIBUTORS</span>
<a name="l00057"></a>00057 <span class="comment"> * ``AS IS&#39;&#39; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00058"></a>00058 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span>
<a name="l00059"></a>00059 <span class="comment"> * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL EGNITE</span>
<a name="l00060"></a>00060 <span class="comment"> * SOFTWARE GMBH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span>
<a name="l00061"></a>00061 <span class="comment"> * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</span>
<a name="l00062"></a>00062 <span class="comment"> * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS</span>
<a name="l00063"></a>00063 <span class="comment"> * OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span>
<a name="l00064"></a>00064 <span class="comment"> * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<a name="l00065"></a>00065 <span class="comment"> * OR TORT (*((reg32_t *)(INCLUDING NEGLIGENCE OR OTHERWISE))) ARISING IN ANY WAY OUT OF</span>
<a name="l00066"></a>00066 <span class="comment"> * THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</span>
<a name="l00067"></a>00067 <span class="comment"> * SUCH DAMAGE.</span>
<a name="l00068"></a>00068 <span class="comment"> *</span>
<a name="l00069"></a>00069 <span class="comment"> * For additional information see http://www.ethernut.de/</span>
<a name="l00070"></a>00070 <span class="comment"> */</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="preprocessor">#ifndef AT91_TWI_H</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="preprocessor">#define AT91_TWI_H</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a>00075 
<a name="l00080"></a><a class="code" href="at91__twi_8h.html#a922de3d09565e0cf748e072c393c6e1c">00080</a> <span class="preprocessor">#define TWI_CR_OFF              0x00000000      ///&lt; Control register offset.</span>
<a name="l00081"></a><a class="code" href="at91__twi_8h.html#a02b3d1b1a042abb22c9de7bb29298911">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CR      (*((reg32_t *)(TWI_BASE + TWI_CR_OFF)))     ///&lt; Control register address.</span>
<a name="l00082"></a><a class="code" href="at91__twi_8h.html#a3b12a0369906d5264bd6e7ea596f6d29">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_START                        0      ///&lt; Send start condition.</span>
<a name="l00083"></a><a class="code" href="at91__twi_8h.html#abc6fae092860c77838a2a320fbfcc512">00083</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_STOP                         1      ///&lt; Send stop condition.</span>
<a name="l00084"></a><a class="code" href="at91__twi_8h.html#a9a73bd2a5544a605e918f26a2311dd1f">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_MSEN                         2      ///&lt; Enable master mode.</span>
<a name="l00085"></a><a class="code" href="at91__twi_8h.html#a3db7623f1a7c47c1a01d6791e6deed4a">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_MSDIS                        3      ///&lt; Disable master mode.</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00087"></a>00087 <span class="comment">#define TWI_SVEN                         4      ///&lt; Enable slave mode.</span>
<a name="l00088"></a>00088 <span class="comment">#define TWI_SVDIS                        5      ///&lt; Disable slave mode.</span>
<a name="l00089"></a>00089 <span class="comment">*/</span>
<a name="l00090"></a><a class="code" href="at91__twi_8h.html#a556126f8cc213b3ad4b59da0d680ec2c">00090</a> <span class="preprocessor">#define TWI_SWRST                        7      ///&lt; Software reset.</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00092"></a>00092 
<a name="l00097"></a><a class="code" href="at91__twi_8h.html#aac2348146926c9c8e5c6c05cac8d89b0">00097</a> <span class="preprocessor">#define TWI_MMR_OFF             0x00000004      ///&lt; Master mode register offset.</span>
<a name="l00098"></a><a class="code" href="at91__twi_8h.html#ad8d84be2df06ad45ecf3542a47af9ba1">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_MMR     (*((reg32_t *)(TWI_BASE + TWI_MMR_OFF)))    ///&lt; Master mode register address.</span>
<a name="l00099"></a><a class="code" href="at91__twi_8h.html#a5ebfe3cb6f5a39e4f15491f2bda73215">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ_SHIFT                 8      ///&lt; Internal device address size shift.</span>
<a name="l00100"></a><a class="code" href="at91__twi_8h.html#a1bc048bf2a7563eb5dcf9da81e2a487a">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ              0x00000300      ///&lt; Internal device address size mask.</span>
<a name="l00101"></a><a class="code" href="at91__twi_8h.html#a75f30c93fb0db0f48418009d75d047ff">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ_NONE         0x00000000      ///&lt; No internal device address.</span>
<a name="l00102"></a><a class="code" href="at91__twi_8h.html#a60feaaf374eb7cc377151a84c8adf270">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ_1BYTE        0x00000100      ///&lt; One byte internal device address.</span>
<a name="l00103"></a><a class="code" href="at91__twi_8h.html#a18cc243cb0bb8e10d0b29b2ca48eb36e">00103</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ_2BYTE        0x00000200      ///&lt; Two byte internal device address.</span>
<a name="l00104"></a><a class="code" href="at91__twi_8h.html#a2f6307902296fd694c6ac85b6c99b94d">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADRSZ_3BYTE        0x00000300      ///&lt; Three byte internal device address.</span>
<a name="l00105"></a><a class="code" href="at91__twi_8h.html#ab6b865a83ebfef45a9876fe79a4133bb">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_MREAD                       12      ///&lt; Master read direction.</span>
<a name="l00106"></a><a class="code" href="at91__twi_8h.html#aea6ee8163200a798017f57608404bc6f">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_DADR                0x007F0000      ///&lt; Device address mask.</span>
<a name="l00107"></a><a class="code" href="at91__twi_8h.html#aafd6f5c25290232d0ec92a751502c5f5">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_DADR_SHIFT                  16      ///&lt; Device address LSB.</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00109"></a>00109 
<a name="l00114"></a><a class="code" href="at91__twi_8h.html#a31a1eb972dda92da910140e1e41eb94f">00114</a> <span class="preprocessor">#define TWI_IADR_OFF           0x0000000C       ///&lt; Internal address register offset.</span>
<a name="l00115"></a><a class="code" href="at91__twi_8h.html#a8bead1fd15629dfaa03bcecaed7bd805">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADR   (*((reg32_t *)(TWI_BASE + TWI_IADR_OFF)))  ///&lt; Internal address register address.</span>
<a name="l00116"></a><a class="code" href="at91__twi_8h.html#aa350c91d3a192f85576d385dd6e1b39c">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADR_MASK           0x00FFFFFF      ///&lt; Internal address mask.</span>
<a name="l00117"></a><a class="code" href="at91__twi_8h.html#a77e406dd2bd72275f673d36034d17bcb">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IADR_SHIFT                   0      ///&lt; Internal address LSB.</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00119"></a>00119 
<a name="l00124"></a><a class="code" href="at91__twi_8h.html#acbacc9a303aa617523cd53cdc5dbc5a9">00124</a> <span class="preprocessor">#define TWI_CWGR_OFF             0x00000010     ///&lt; Clock waveform generator register offset.</span>
<a name="l00125"></a><a class="code" href="at91__twi_8h.html#ab596a5d1047574a8e0e6f28af3819bbd">00125</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CWGR    (*((reg32_t *)(TWI_BASE + TWI_CWGR_OFF)))   ///&lt; Clock waveform generator register address.</span>
<a name="l00126"></a><a class="code" href="at91__twi_8h.html#a8b10effff921177df0e49882754a04f3">00126</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CLDIV                0x000000FF     ///&lt; Clock low divider mask.</span>
<a name="l00127"></a><a class="code" href="at91__twi_8h.html#a5aa4920447aa098faddbd7b1270b91ce">00127</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CLDIV_SHIFT                   0     ///&lt; Clock low divider LSB.</span>
<a name="l00128"></a><a class="code" href="at91__twi_8h.html#ae979bee5c2c5194cd53594e9c63e0fcc">00128</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CHDIV                0x0000FF00     ///&lt; Clock high divider mask.</span>
<a name="l00129"></a><a class="code" href="at91__twi_8h.html#a4ccc7013344c4f22152767834b71fbbd">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CHDIV_SHIFT                   8     ///&lt; Clock high divider LSB.</span>
<a name="l00130"></a><a class="code" href="at91__twi_8h.html#aebec47f30aa17c741e4adc2355c3385c">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CKDIV                0x00070000     ///&lt; Clock divider mask.</span>
<a name="l00131"></a><a class="code" href="at91__twi_8h.html#ab6e00e71c09d6f9a12ec4143eeb7fe4b">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_CKDIV_SHIFT                  16     ///&lt; Clock divider LSB.</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00133"></a>00133 
<a name="l00138"></a><a class="code" href="at91__twi_8h.html#a53347b4c5ac3a5dbd98729c941fb8e98">00138</a> <span class="preprocessor">#define TWI_SR_OFF              0x00000020      ///&lt; Status register offset.</span>
<a name="l00139"></a><a class="code" href="at91__twi_8h.html#ace05219303a4d04f60d0667e05cc203a">00139</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_SR      (*((reg32_t *)(TWI_BASE + TWI_SR_OFF)))     ///&lt; Status register address.</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a><a class="code" href="at91__twi_8h.html#ae480da62fec6380d989242804b867a3f">00141</a> <span class="preprocessor">#define TWI_IER_OFF             0x00000024      ///&lt; Interrupt enable register offset.</span>
<a name="l00142"></a><a class="code" href="at91__twi_8h.html#acd0b43819e666d118cc878ded56bb806">00142</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IER     (*((reg32_t *)(TWI_BASE + TWI_IER_OFF)))    ///&lt; Interrupt enable register address.</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a><a class="code" href="at91__twi_8h.html#a421a5537af5f865a55da8f712647979d">00144</a> <span class="preprocessor">#define TWI_IDR_OFF             0x00000028      ///&lt; Interrupt disable register offset.</span>
<a name="l00145"></a><a class="code" href="at91__twi_8h.html#a3b24e0af67309bddaf69254fc506d5b3">00145</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IDR     (*((reg32_t *)(TWI_BASE + TWI_IDR_OFF)))    ///&lt; Interrupt disable register address.</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a><a class="code" href="at91__twi_8h.html#a40f0e5a92c2bc9c72c8716357265dc3e">00147</a> <span class="preprocessor">#define TWI_IMR_OFF             0x0000002C      ///&lt; Interrupt mask register offset.</span>
<a name="l00148"></a><a class="code" href="at91__twi_8h.html#a628dad2c0cd19a9ead7e62d30d5f0468">00148</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_IMR     (*((reg32_t *)(TWI_BASE + TWI_IMR_OFF)))    ///&lt; Interrupt mask register address.</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="at91__twi_8h.html#af4539af6e9b4506eb9eca59e1d40a920">00150</a> <span class="preprocessor">#define TWI_TXCOMP                       0      ///&lt; Transmission completed.</span>
<a name="l00151"></a><a class="code" href="at91__twi_8h.html#a32a53045ac658af41a2fdf6ca77e27e2">00151</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_RXRDY                        1      ///&lt; Receive holding register ready.</span>
<a name="l00152"></a><a class="code" href="at91__twi_8h.html#a0c62400ce2a0f304fb62cb13f708913b">00152</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_TXRDY                        2      ///&lt; Transmit holding register ready.</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 <span class="comment">/*</span>
<a name="l00155"></a>00155 <span class="comment">#define TWI_SVREAD              0x00000008      ///&lt; Slave read.</span>
<a name="l00156"></a>00156 <span class="comment">#define TWI_SVACC               0x00000010      ///&lt; Slave access.</span>
<a name="l00157"></a>00157 <span class="comment">#define TWI_GACC                0x00000020      ///&lt; General call access.</span>
<a name="l00158"></a>00158 <span class="comment">*/</span>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="preprocessor">#if CPU_ARM_SAM7X</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="preprocessor">#define TWI_OVRE                         6      ///&lt; Overrun error.</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span><span class="preprocessor">#define TWI_UNRE                         7      ///&lt; Underrun error.</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span>
<a name="l00165"></a><a class="code" href="at91__twi_8h.html#aaf28e960d6d1c0553791faf52ebd8ef6">00165</a> <span class="preprocessor">#define TWI_NACK                         8      ///&lt; Not acknowledged.</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00167"></a>00167 <span class="comment">#define TWI_ARBLST              0x00000200      ///&lt; Arbitration lost.</span>
<a name="l00168"></a>00168 <span class="comment">#define TWI_SCLWS               0x00000400      ///&lt; Clock wait state.</span>
<a name="l00169"></a>00169 <span class="comment">#define TWI_EOSACC              0x00000800      ///&lt; End of slave access.</span>
<a name="l00170"></a>00170 <span class="comment">*/</span>
<a name="l00171"></a>00171 <span class="comment">/*\}*/</span>
<a name="l00172"></a>00172 
<a name="l00177"></a><a class="code" href="at91__twi_8h.html#afa8a2fea32dfa50e784c7e982c59a1e9">00177</a> <span class="preprocessor">#define TWI_RHR_OFF             0x00000030      ///&lt; Receive holding register offset.</span>
<a name="l00178"></a><a class="code" href="at91__twi_8h.html#a10ec126222ab67b1b0d4d45a12bfce86">00178</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_RHR     (*((reg32_t *)(TWI_BASE + TWI_RHR_OFF)))    ///&lt; Receive holding register address.</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00180"></a>00180 
<a name="l00185"></a><a class="code" href="at91__twi_8h.html#ad3d9a9d239fa02ee5a1ad319a7b06d29">00185</a> <span class="preprocessor">#define TWI_THR_OFF             0x00000034      ///&lt; Transmit holding register offset.</span>
<a name="l00186"></a><a class="code" href="at91__twi_8h.html#a4b03a7b68ca09ea527c41c27eb79b885">00186</a> <span class="preprocessor"></span><span class="preprocessor">#define TWI_THR     (*((reg32_t *)(TWI_BASE + TWI_THR_OFF)))    ///&lt; Transmit holding register address.</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 <span class="preprocessor">#endif </span><span class="comment">/* AT91_TWI_H */</span>
</pre></div></div>
</div>


