

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ini file reader</div>  </div>
<div class="ingroups"><a class="el" href="group__mware.html">Middleware facilities</a></div></div>
<div class="contents">

<p>Ini file reader module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ini__reader.html#ga2f34e53e06c7af7bf5be368dd66ea01b">ini_getString</a> (<a class="el" href="structKFile.html">KFile</a> *fd, const char *section, const char *key, const char *default_value, char *buf, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value for the given string in char* format.  <a href="#ga2f34e53e06c7af7bf5be368dd66ea01b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Ini file reader module. </p>
<p>The format accepted is:</p>
<ul>
<li>Sections must begin at beginning of line. [ Long name ] will be found only if " Long name " is specified as section name.</li>
<li>key can contain any spaces at the beginning and before '=' but not in the middle. Eg. "long key name" is not valid.</li>
<li>values will be stripped of spaces at the beginning and will run until end-of-line. Eg. "=    long value" will be treated as "long value".</li>
<li>no nested sections are allowed.</li>
<li>no comments are allowed inside a line with key=value pair.</li>
<li>every line that doesn't contain a '=' or doesn't start with '[' will be ignored.</li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>Luca Ottaviano &lt;<a href="mailto:lottaviano@develer.com">lottaviano@develer.com</a>&gt; </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2f34e53e06c7af7bf5be368dd66ea01b"></a><!-- doxytag: member="ini_reader.h::ini_getString" ref="ga2f34e53e06c7af7bf5be368dd66ea01b" args="(KFile *fd, const char *section, const char *key, const char *default_value, char *buf, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ini_getString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>default_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the value for the given string in char* format. </p>
<p>Reads the whole input file looking for section and key and fills the provided buffer with the corresponding value. On errors, the function fills the provided buffer with the default value and returns EOF. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>An initialized <a class="el" href="structKFile.html" title="Context data for callback functions which operate on pseudo files.">KFile</a> structure. </td></tr>
    <tr><td class="paramname">section</td><td>The section to be looked for. </td></tr>
    <tr><td class="paramname">key</td><td>The key to search for. </td></tr>
    <tr><td class="paramname">default_value</td><td>The default value. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to be filled. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the provided buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if section and key were found, EOF on errors. </dd></dl>

<p>Definition at line <a class="el" href="ini__reader_8c_source.html#l00140">140</a> of file <a class="el" href="ini__reader_8c_source.html">ini_reader.c</a>.</p>

</div>
</div>
</div>


