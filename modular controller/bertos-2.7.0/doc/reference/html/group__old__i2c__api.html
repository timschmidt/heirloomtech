

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Old I2C API</div>  </div>
<div class="ingroups"><a class="el" href="group__i2c__driver.html">I2C driver</a></div></div>
<div class="contents">

<p>This is the old and deprecated I2C API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga57f453353a93940d65a16dfc2152e2a4">i2c_send</a> (const void *_buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a sequence of bytes in master transmitter mode to the selected slave device through the I2C bus.  <a href="#ga57f453353a93940d65a16dfc2152e2a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga6063484f19eec767065346218b18527b">i2c_recv</a> (void *_buf, size_t count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a sequence of one or more bytes from the selected slave device in master receive mode through the I2C bus.  <a href="#ga6063484f19eec767065346218b18527b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
I2C Backends.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc64fe91eedc6633824ab9ec1faa1aedb"></a>Sometimes your cpu does not have a builtin i2c driver or you don't want, for some reason, to use that.</p>
<p>With this you can choose, at compile time, which backend to use. Set the CONFIG_I2C_BACKEND configuration variable in <a class="el" href="cfg__i2c_8h.html" title="Configuration file for I2C module.">cfg_i2c.h</a> </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69ce6fca5e0f599ba19fa480ce30b0f3"></a><!-- doxytag: member="old_i2c_api::I2C_BACKEND_BUILTIN" ref="ga69ce6fca5e0f599ba19fa480ce30b0f3" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga69ce6fca5e0f599ba19fa480ce30b0f3">I2C_BACKEND_BUILTIN</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses cpu builtin i2c driver. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa56484d5f9557c329a00826643190312"></a><!-- doxytag: member="old_i2c_api::I2C_BACKEND_BITBANG" ref="gaa56484d5f9557c329a00826643190312" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#gaa56484d5f9557c329a00826643190312">I2C_BACKEND_BITBANG</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses emulated bitbang driver. <br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
I2c builtin prototypes.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp88c133c7df34d110653a35c3039f9b51"></a>Do NOT use these function directly, instead, you can call the ones named without "_builtin_" and specify in <a class="el" href="cfg__i2c_8h.html" title="Configuration file for I2C module.">cfg_i2c.h</a> (CONFIG_I2C_BACKEND) that you want the builtin backend. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga77089b74c68384181f7d41f53a6bec15">i2c_builtin_start_w</a> (uint8_t id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send START condition and select slave for write.  <a href="#ga77089b74c68384181f7d41f53a6bec15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga7ed325e92544b8200349f2af70b41c2e">i2c_builtin_start_r</a> (uint8_t id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send START condition and select slave for read.  <a href="#ga7ed325e92544b8200349f2af70b41c2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0ebbfc4f45b7f78a07dff39f4b0015f8"></a><!-- doxytag: member="old_i2c_api::i2c_builtin_stop" ref="ga0ebbfc4f45b7f78a07dff39f4b0015f8" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga0ebbfc4f45b7f78a07dff39f4b0015f8">i2c_builtin_stop</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send STOP condition. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#ga48db695ba1999104ce4cf02473b66afc">i2c_builtin_put</a> (uint8_t _data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a single byte in master transmitter mode to the selected slave device through the TWI bus.  <a href="#ga48db695ba1999104ce4cf02473b66afc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__i2c__api.html#gaa2fb3ae003a7dc3fd5145b36995f69bd">i2c_builtin_get</a> (bool ack)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 1 byte from slave in master transmitter mode to the selected slave device through the TWI bus.  <a href="#gaa2fb3ae003a7dc3fd5145b36995f69bd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
I2c bitbang prototypes.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp407bf79d1a7c41c67e87fe23d07df984"></a>Do NOT use these function directly, instead, you can call the ones named without "_bitbang_" and specify in <a class="el" href="cfg__i2c_8h.html" title="Configuration file for I2C module.">cfg_i2c.h</a> (CONFIG_I2C_BACKEND) that you want the bitbang backend. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga940f3a76c7dc04e87ca807166d3791e6"></a><!-- doxytag: member="old_i2c_api::i2c_bitbang_start_w" ref="ga940f3a76c7dc04e87ca807166d3791e6" args="(uint8_t id)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_bitbang_start_w</b> (uint8_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab39978b6e1c85d29df4f78f3d99fd01a"></a><!-- doxytag: member="old_i2c_api::i2c_bitbang_start_r" ref="gab39978b6e1c85d29df4f78f3d99fd01a" args="(uint8_t id)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_bitbang_start_r</b> (uint8_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga051594e3918770c46d1b01acd1f251d3"></a><!-- doxytag: member="old_i2c_api::i2c_bitbang_stop" ref="ga051594e3918770c46d1b01acd1f251d3" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_bitbang_stop</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0e56e7b167b169014f824c072b35a5be"></a><!-- doxytag: member="old_i2c_api::i2c_bitbang_put" ref="ga0e56e7b167b169014f824c072b35a5be" args="(uint8_t _data)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_bitbang_put</b> (uint8_t _data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2997a0c362b195eaac5cb7251743b870"></a><!-- doxytag: member="old_i2c_api::i2c_bitbang_get" ref="ga2997a0c362b195eaac5cb7251743b870" args="(bool ack)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_bitbang_get</b> (bool ack)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This is the old and deprecated I2C API. </p>
<p>It is maintained for backward compatibility only, don't use it in new projects. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaa2fb3ae003a7dc3fd5145b36995f69bd"></a><!-- doxytag: member="i2c.h::i2c_builtin_get" ref="gaa2fb3ae003a7dc3fd5145b36995f69bd" args="(bool ack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2c_builtin_get </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get 1 byte from slave in master transmitter mode to the selected slave device through the TWI bus. </p>
<p>If <em>ack</em> is true issue a ACK after getting the byte, otherwise a NACK is issued.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the byte read if ok, EOF on errors. </dd></dl>

<p>Definition at line <a class="el" href="i2c__avr_8c_source.html#l00187">187</a> of file <a class="el" href="i2c__avr_8c_source.html">i2c_avr.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga48db695ba1999104ce4cf02473b66afc"></a><!-- doxytag: member="i2c.h::i2c_builtin_put" ref="ga48db695ba1999104ce4cf02473b66afc" args="(uint8_t _data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_builtin_put </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put a single byte in master transmitter mode to the selected slave device through the TWI bus. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on error. </dd></dl>

<p>Definition at line <a class="el" href="i2c__avr_8c_source.html#l00166">166</a> of file <a class="el" href="i2c__avr_8c_source.html">i2c_avr.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ed325e92544b8200349f2af70b41c2e"></a><!-- doxytag: member="i2c.h::i2c_builtin_start_r" ref="ga7ed325e92544b8200349f2af70b41c2e" args="(uint8_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_builtin_start_r </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send START condition and select slave for read. </p>
<p><code>id</code> is the device id comprehensive of address left shifted by 1. The LSB of <code>id</code> is ignored and set to 1 for read operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="i2c__avr_8c_source.html#l00133">133</a> of file <a class="el" href="i2c__avr_8c_source.html">i2c_avr.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga77089b74c68384181f7d41f53a6bec15"></a><!-- doxytag: member="i2c.h::i2c_builtin_start_w" ref="ga77089b74c68384181f7d41f53a6bec15" args="(uint8_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_builtin_start_w </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send START condition and select slave for write. </p>
<p><code>id</code> is the device id comprehensive of address left shifted by 1. The LSB of <code>id</code> is ignored and reset to 0 for write operation.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="i2c__avr_8c_source.html#l00093">93</a> of file <a class="el" href="i2c__avr_8c_source.html">i2c_avr.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6063484f19eec767065346218b18527b"></a><!-- doxytag: member="i2c.h::i2c_recv" ref="ga6063484f19eec767065346218b18527b" args="(void *_buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_recv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive a sequence of one or more bytes from the selected slave device in master receive mode through the I2C bus. </p>
<p>Received data is placed in <code>buf</code>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>a NACK is automatically given on the last received byte.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on error </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00076">76</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga57f453353a93940d65a16dfc2152e2a4"></a><!-- doxytag: member="i2c.h::i2c_send" ref="ga57f453353a93940d65a16dfc2152e2a4" args="(const void *_buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_send </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a sequence of bytes in master transmitter mode to the selected slave device through the I2C bus. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on error. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00052">52</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

</div>
</div>
</div>


