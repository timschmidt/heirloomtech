

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_73fc058393fdbb37a5c2cb9d89ac7c2b.html">gui</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">menu.h</div>  </div>
</div>
<div class="contents">
<a href="menu_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef GUI_MENU_H</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define GUI_MENU_H</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;<a class="code" href="compiler_8h.html" title="Additional support macros for compiler independance.">cfg/compiler.h</a>&gt;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;<a class="code" href="gfx_8h.html">gfx/gfx.h</a>&gt;</span>
<a name="l00052"></a>00052 
<a name="l00054"></a><a class="code" href="group__menu.html#gae995049e43a5c4e5df259680f54b5c63">00054</a> <span class="keyword">typedef</span> <a class="code" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc" title="Bulk storage large enough for both pointers or integers.">iptr_t</a> (*<a class="code" href="group__menu.html#gae995049e43a5c4e5df259680f54b5c63" title="Menu callback function.">MenuHook</a>)(<a class="code" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc" title="Bulk storage large enough for both pointers or integers.">iptr_t</a> <a class="code" href="structMenuItem.html#aa3a76db02ee4caba798a2ab903fa3a20" title="User data to be passed back to the hook.">userdata</a>);
<a name="l00055"></a>00055 <span class="keyword">typedef</span> void (*BlitBitmap)(<span class="keyword">const</span> <a class="code" href="structBitmap.html" title="Control structure to draw in a bitmap.">Bitmap</a> *bm);
<a name="l00056"></a>00056 
<a name="l00060"></a><a class="code" href="structMenuItem.html">00060</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMenuItem.html" title="Menu item description.">MenuItem</a>
<a name="l00061"></a>00061 {
<a name="l00062"></a><a class="code" href="structMenuItem.html#a9abbd1d0a29ea68a9105727523760c78">00062</a>     <a class="code" href="compiler_8h.html#ac2f47ebc167b4f9d2e975acaee1a0775" title="Bulk storage large enough for both pointers to constants or integers.">const_iptr_t</a> <a class="code" href="structMenuItem.html#a9abbd1d0a29ea68a9105727523760c78" title="Item label (ID or ptr to string, 0 to disable)">label</a>;    
<a name="l00063"></a><a class="code" href="structMenuItem.html#aae061ec96967a433f9d542a90f8ecf9d">00063</a>     <span class="keywordtype">int</span>          <a class="code" href="structMenuItem.html#aae061ec96967a433f9d542a90f8ecf9d" title="See MIF_#? definitions below.">flags</a>;    
<a name="l00064"></a><a class="code" href="structMenuItem.html#aee7d16966c1ed05c0fbfe7cb8609ba3d">00064</a>     <a class="code" href="group__menu.html#gae995049e43a5c4e5df259680f54b5c63" title="Menu callback function.">MenuHook</a>     <a class="code" href="structMenuItem.html#aee7d16966c1ed05c0fbfe7cb8609ba3d" title="Callback function (NULL to terminate item list)">hook</a>;     
<a name="l00065"></a><a class="code" href="structMenuItem.html#aa3a76db02ee4caba798a2ab903fa3a20">00065</a>     <a class="code" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc" title="Bulk storage large enough for both pointers or integers.">iptr_t</a>       <a class="code" href="structMenuItem.html#aa3a76db02ee4caba798a2ab903fa3a20" title="User data to be passed back to the hook.">userdata</a>; 
<a name="l00066"></a>00066 } <a class="code" href="structMenuItem.html" title="Menu item description.">MenuItem</a>;
<a name="l00067"></a>00067 
<a name="l00069"></a><a class="code" href="group__menu.html#ga13ffbc2546b233be49b192cb30499704">00069</a> <span class="keyword">typedef</span> void (*<a class="code" href="group__menu.html#ga13ffbc2546b233be49b192cb30499704" title="Render hook callback function prototype.">RenderHook</a>)(<span class="keyword">struct </span><a class="code" href="structBitmap.html" title="Control structure to draw in a bitmap.">Bitmap</a> *bitmap, <span class="keywordtype">int</span> ypos, <span class="keywordtype">bool</span> selected, <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structMenuItem.html" title="Menu item description.">MenuItem</a> *item);
<a name="l00070"></a>00070 
<a name="l00075"></a><a class="code" href="group__menu.html#ga3099ba4a046c3b35bc3034a535a20080">00075</a> <span class="preprocessor">#define MIF_EXCLUDE_MASK    0x00FF </span>
<a name="l00076"></a><a class="code" href="group__menu.html#ga4287cbefcf18a6641cdf3d97b455d447">00076</a> <span class="preprocessor">#define MIF_PRI_MASK        0x00FF </span>
<a name="l00077"></a><a class="code" href="group__menu.html#ga856d3eef1652619316ac67ea3da8da26">00077</a> <span class="preprocessor">#define MIF_PRI(x)          ((x) &amp; MIF_PRI_MASK) </span>
<a name="l00078"></a><a class="code" href="group__menu.html#gaf1ef46960f726887c98c2624365aae54">00078</a> <span class="preprocessor">#define MIF_EXCLUDE_0       BV(0)  </span>
<a name="l00079"></a><a class="code" href="group__menu.html#ga155789eff93107c9ab10df5f26c33143">00079</a> <span class="preprocessor">#define MIF_EXCLUDE_1       BV(1)  </span>
<a name="l00080"></a><a class="code" href="group__menu.html#gad68fad257259838283a6e07aaaf60a60">00080</a> <span class="preprocessor">#define MIF_EXCLUDE_2       BV(2)  </span>
<a name="l00081"></a><a class="code" href="group__menu.html#ga28f789e013e542ac10aaa3adc2b10ca1">00081</a> <span class="preprocessor">#define MIF_EXCLUDE_3       BV(3)  </span>
<a name="l00082"></a><a class="code" href="group__menu.html#gac298cf8c553b080711d403e13c10ef2a">00082</a> <span class="preprocessor">#define MIF_EXCLUDE_4       BV(4)  </span>
<a name="l00083"></a><a class="code" href="group__menu.html#gac1098753470bcefb7672469cc18cffb1">00083</a> <span class="preprocessor">#define MIF_EXCLUDE_5       BV(5)  </span>
<a name="l00084"></a><a class="code" href="group__menu.html#gab17d175ae11f13c97d96cbf02eb7ef75">00084</a> <span class="preprocessor">#define MIF_EXCLUDE_6       BV(6)  </span>
<a name="l00085"></a><a class="code" href="group__menu.html#ga6cec4fe8e12fdeadda5a5f02d39d4027">00085</a> <span class="preprocessor">#define MIF_EXCLUDE_7       BV(7)  </span>
<a name="l00086"></a><a class="code" href="group__menu.html#gafe3aa71916d2976a7152458ef1ae10c7">00086</a> <span class="preprocessor">#define MIF_CHECKED         BV(8)  </span>
<a name="l00087"></a><a class="code" href="group__menu.html#ga6d2c096db0eb18ad7a65e89f9c2fb688">00087</a> <span class="preprocessor">#define MIF_CHECKIT         BV(9)  </span>
<a name="l00088"></a><a class="code" href="group__menu.html#gad59358f1ee81b7d97b7ac9cb886bd4bc">00088</a> <span class="preprocessor">#define MIF_TOGGLE          BV(10) </span>
<a name="l00089"></a><a class="code" href="group__menu.html#ga53d2763629b02599081b869f6e20efc9">00089</a> <span class="preprocessor">#define MIF_HIDDEN          BV(11) </span>
<a name="l00090"></a><a class="code" href="group__menu.html#ga1c03eb5610ffd70de237d5e58c1becb2">00090</a> <span class="preprocessor">#define MIF_DISABLED        BV(12) </span>
<a name="l00091"></a><a class="code" href="group__menu.html#ga94cb4f30fca081d198e814fdbd1ac3fb">00091</a> <span class="preprocessor">#define MIF_RAMLABEL        BV(13) </span>
<a name="l00092"></a><a class="code" href="group__menu.html#ga50df5443ff2b8eb456058d6690fa5aa3">00092</a> <span class="preprocessor">#define MIF_RENDERHOOK      BV(14) </span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="comment">/* \} */</span>
<a name="l00094"></a>00094 
<a name="l00098"></a><a class="code" href="structMenu.html">00098</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMenu.html" title="Menu description.">Menu</a>
<a name="l00099"></a>00099 {
<a name="l00100"></a><a class="code" href="structMenu.html#a67adef3ddfcfb3f9be9529c0a77000fd">00100</a>     <a class="code" href="structMenuItem.html" title="Menu item description.">MenuItem</a>        *<a class="code" href="structMenu.html#a67adef3ddfcfb3f9be9529c0a77000fd" title="Array of items (end with a NULL hook)">items</a>;    
<a name="l00101"></a><a class="code" href="structMenu.html#a599f9885a6e7af18e495c8c50d7498ec">00101</a>     <a class="code" href="compiler_8h.html#ac2f47ebc167b4f9d2e975acaee1a0775" title="Bulk storage large enough for both pointers to constants or integers.">const_iptr_t</a>     <a class="code" href="structMenu.html#a599f9885a6e7af18e495c8c50d7498ec" title="Menu title (ID or ptr to string, 0 to disable)">title</a>;    
<a name="l00102"></a><a class="code" href="structMenu.html#aeeefea651e3367a2d91369e441862968">00102</a>     <span class="keywordtype">int</span>              <a class="code" href="structMenu.html#aeeefea651e3367a2d91369e441862968" title="See MF_#? definitions below.">flags</a>;    
<a name="l00103"></a><a class="code" href="structMenu.html#af05e9193598f4e829d2c1aa515a82b52">00103</a>     <span class="keyword">struct </span><a class="code" href="structBitmap.html" title="Control structure to draw in a bitmap.">Bitmap</a>   *<a class="code" href="structMenu.html#af05e9193598f4e829d2c1aa515a82b52" title="Bitmap where the menu is rendered.">bitmap</a>;   
<a name="l00104"></a><a class="code" href="structMenu.html#a608e2768a5458057048bf1c7ab9a81aa">00104</a>     <span class="keywordtype">int</span>              <a class="code" href="structMenu.html#a608e2768a5458057048bf1c7ab9a81aa" title="Initial selection (written to if MF_SAVESEL is set).">selected</a>; 
<a name="l00105"></a><a class="code" href="structMenu.html#ae4c1a17a71f64f7d33051e3f7e502e73">00105</a>     BlitBitmap       <a class="code" href="structMenu.html#ae4c1a17a71f64f7d33051e3f7e502e73" title="Callback to call to do smooth the display.">lcd_blitBitmap</a>; 
<a name="l00106"></a>00106 } <a class="code" href="structMenu.html" title="Menu description.">Menu</a>;
<a name="l00107"></a>00107 
<a name="l00112"></a><a class="code" href="group__menu.html#ga661a6fe3407764329a3a5fc1293883ee">00112</a> <span class="preprocessor">#define MF_STICKY   BV(0)  </span>
<a name="l00113"></a><a class="code" href="group__menu.html#gacaea93dddf6c4a5b103a490e954586e4">00113</a> <span class="preprocessor">#define MF_TOPLEVEL BV(1)  </span>
<a name="l00114"></a><a class="code" href="group__menu.html#ga96dfe461dbe24c7c4bcb42c360d8fb7b">00114</a> <span class="preprocessor">#define MF_ROMITEMS BV(2)  </span>
<a name="l00115"></a><a class="code" href="group__menu.html#ga3ba6cc2eec84a082545ec58082e8327d">00115</a> <span class="preprocessor">#define MF_SAVESEL  BV(3)  </span>
<a name="l00116"></a>00116 <span class="preprocessor"></span><span class="comment">/* \} */</span>
<a name="l00117"></a>00117 
<a name="l00122"></a>00122 <span class="preprocessor">#define MENU_OK       ((iptr_t)0)</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">#define MENU_CANCEL   ((iptr_t)-1)</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define MENU_TIMEOUT  ((iptr_t)-2)</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#define MENU_ABORT    ((iptr_t)-3)</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span><span class="preprocessor">#define MENU_DISABLED ((iptr_t)-4)</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="comment">/* \} */</span>
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="comment">/* Function prototypes */</span>
<a name="l00130"></a>00130 <a class="code" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc" title="Bulk storage large enough for both pointers or integers.">iptr_t</a> <a class="code" href="group__menu.html#ga12eb86304cbb6eab7bdbe9a0a3c4eccf" title="Handle a menu and invoke hook functions for the selected menu items.">menu_handle</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structMenu.html" title="Menu description.">Menu</a> *menu);
<a name="l00131"></a>00131 <span class="keywordtype">int</span> <a class="code" href="group__menu.html#gaf72ec9acf3fa00952dcb7703bd689862" title="Set flags on a menuitem.">menu_setFlags</a>(<span class="keyword">struct</span> <a class="code" href="structMenu.html" title="Menu description.">Menu</a> *menu, <span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> flags);
<a name="l00132"></a>00132 <span class="keywordtype">int</span> <a class="code" href="group__menu.html#gaa9020eaa3d563ced20573b4b49658fbc" title="Clear flags on a menuitem.">menu_clearFlags</a>(<span class="keyword">struct</span> <a class="code" href="structMenu.html" title="Menu description.">Menu</a> *menu, <span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> flags);
<a name="l00133"></a>00133  <span class="comment">//defgroup menu</span>
<a name="l00135"></a>00135 <span class="preprocessor">#endif </span><span class="comment">/* GUI_MENU_H */</span>
</pre></div></div>
</div>


