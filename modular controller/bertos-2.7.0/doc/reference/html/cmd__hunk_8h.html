

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_5b85ff6a72c79a71106598e13514bf0c.html">mware</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">cmd_hunk.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Preprocessor magic to create hunks for the commands executed from the parser.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="parser_8h_source.html">parser.h</a>&quot;</code><br/>
<code>#include &lt;boost/preprocessor/library.hpp&gt;</code><br/>
</div>
<p><a href="cmd__hunk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Preprocessor magic to create hunks for the commands executed from the parser. </p>
<p>This module permits to create hunks for the functions that must be executed through RPC commands. For instance, given this code:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group__parser.html#gad8097859ab1bdd06be52a8421df152d4" title="Error generated by the commands through the return code.">ResultCode</a> cmd_add(<span class="keywordtype">long</span> a, <span class="keywordtype">long</span> b, <span class="keywordtype">long</span>* result);
 DECLARE_COMMAND_HUNK(add, (<span class="keywordtype">long</span>)(<span class="keywordtype">long</span>)(NIL), (<span class="keywordtype">long</span>)(NIL));
 <span class="comment">//                        ^ parameters       ^ return values</span>
</pre></div><p>The macro is expanded to:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group__parser.html#gad8097859ab1bdd06be52a8421df152d4" title="Error generated by the commands through the return code.">ResultCode</a> cmd_add_hunk(params argv[], params results[])
 {
    <span class="keywordflow">return</span> cmd_add(argv[0].l, argv[1].l, &amp;results[0].l);
 }

 <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structCmdTemplate.html" title="Define a command that can be tokenized by the parser.">CmdTemplate</a> cmd_add_template = 
 {
    <span class="stringliteral">&quot;add&quot;</span>, <span class="stringliteral">&quot;dd&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, cmd_add_hunk
 };
</pre></div><p>which is all the boilerplate needed to make the function ready for the RPC. The implementation uses the Boost Preprocessor Library (part of the Boost library, available at <a href="http://www.boost.org">http://www.boost.org</a>). The version we developed the code with is 1.31.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Giovanni Bajo &lt;<a href="mailto:rasky@develer.com">rasky@develer.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="cmd__hunk_8h_source.html">cmd_hunk.h</a>.</p>
</div></div>


