

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_1f72f5400b18ab325419d091c349a810.html">hw</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">hw_thermo.h</div>  </div>
</div>
<div class="contents">
<a href="hw__thermo_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00039"></a>00039 <span class="preprocessor">#ifndef HW_THERMO_H</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#define HW_THERMO_H</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="thermo__map_8h.html" title="Thermo regulation control map definitions.">hw/thermo_map.h</a>&quot;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;<a class="code" href="debug_8h.html">cfg/debug.h</a>&gt;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;<a class="code" href="ntc_8h.html" title="Driver for NTC sensors (reads a temperature through an ADC).">drv/ntc.h</a>&gt;</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 INLINE <a class="code" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88" title="Type for time expressed in ticks.">ticks_t</a> thermo_hw_timeout(ThermoDev dev)
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051     (void)dev;
<a name="l00052"></a>00052     <span class="keywordflow">return</span> 0;
<a name="l00053"></a>00053 }
<a name="l00054"></a>00054 
<a name="l00058"></a><a class="code" href="hw__thermo_8h.html#af0bbc1e0e046088b186eb7240aa0ca09">00058</a> INLINE deg_t <a class="code" href="hw__thermo_8h.html#af0bbc1e0e046088b186eb7240aa0ca09" title="This function should return the temperature set tolerance.">thermo_hw_tolerance</a>(ThermoDev dev)
<a name="l00059"></a>00059 {
<a name="l00060"></a>00060     (void)dev;
<a name="l00061"></a>00061     <span class="keywordflow">return</span> 0;
<a name="l00062"></a>00062 }
<a name="l00063"></a>00063 
<a name="l00067"></a><a class="code" href="hw__thermo_8h.html#abeec0913b9634ed0f274ed3cd25f6eaa">00067</a> INLINE deg_t <a class="code" href="hw__thermo_8h.html#abeec0913b9634ed0f274ed3cd25f6eaa" title="Read the temperature of the hw device dev.">thermo_hw_read</a>(ThermoDev dev)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069     <a class="code" href="group__debug.html#gaca68c0d4ac8df0838e209fb5300f7be3" title="Assert a pre-condition on code.">ASSERT</a>(dev &lt; THERMO_CNT);
<a name="l00070"></a>00070     <span class="comment">/* Put here the code to read current temperature */</span>
<a name="l00071"></a>00071     <span class="keywordflow">return</span> 0;
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00079"></a><a class="code" href="hw__thermo_8h.html#a3d99bbddf9cb19bfa32f8a122a3d0e1a">00079</a> INLINE <span class="keywordtype">void</span> <a class="code" href="hw__thermo_8h.html#a3d99bbddf9cb19bfa32f8a122a3d0e1a" title="Turns off a specific device.">thermo_hw_off</a>(ThermoDev dev)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081     <a class="code" href="group__debug.html#gaca68c0d4ac8df0838e209fb5300f7be3" title="Assert a pre-condition on code.">ASSERT</a>(dev &lt; THERMO_CNT);
<a name="l00082"></a>00082     <span class="comment">/* Put here the code to turn off the thermo device */</span>
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00090"></a><a class="code" href="hw__thermo_8h.html#af73865cbc73151b5a9eb0b83796131bd">00090</a> INLINE <span class="keywordtype">void</span> <a class="code" href="hw__thermo_8h.html#af73865cbc73151b5a9eb0b83796131bd" title="Based on the current temperature cur_temp and the target temperature target, this function turns on a...">thermo_hw_set</a>(ThermoDev dev, deg_t target, deg_t cur_temp)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092     <a class="code" href="group__debug.html#gaca68c0d4ac8df0838e209fb5300f7be3" title="Assert a pre-condition on code.">ASSERT</a>(dev &lt; THERMO_CNT);
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     <span class="keywordflow">if</span> (target - cur_temp &gt; 0)
<a name="l00095"></a>00095     {
<a name="l00096"></a>00096         <span class="comment">/*</span>
<a name="l00097"></a>00097 <span class="comment">         * We are leveaving the target temperature, so</span>
<a name="l00098"></a>00098 <span class="comment">         * turn on the thermo device!</span>
<a name="l00099"></a>00099 <span class="comment">         */</span>
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101     <span class="keywordflow">else</span>
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <span class="comment">/*</span>
<a name="l00104"></a>00104 <span class="comment">         * Ok, we are near the target temperature, so</span>
<a name="l00105"></a>00105 <span class="comment">         * turn off the thermo device!</span>
<a name="l00106"></a>00106 <span class="comment">         */</span>
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 }
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="preprocessor">#define THERMO_HW_INIT  _thermo_hw_init()</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00116"></a><a class="code" href="hw__thermo_8h.html#ac4c099f9ef35f92fa9b6c8e275c00619">00116</a> INLINE <span class="keywordtype">void</span> <a class="code" href="hw__thermo_8h.html#ac4c099f9ef35f92fa9b6c8e275c00619" title="Init hw associated with thermo-control.">_thermo_hw_init</a>(<span class="keywordtype">void</span>)
<a name="l00117"></a>00117 {
<a name="l00118"></a>00118     <span class="comment">/* Init your devices here! */</span>
<a name="l00119"></a>00119 }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="preprocessor">#endif </span><span class="comment">/* HW_THERMO_H */</span>
</pre></div></div>
</div>


