

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_f7c89dbd63e8f34e572fe939945c15d7.html">drv</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">timer.c File Reference</div>  </div>
</div>
<div class="contents">

<p>Hardware independent timer driver (implementation)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hw__timer_8h_source.html">hw/hw_timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cfg__timer_8h_source.html">cfg/cfg_timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cfg__wdt_8h_source.html">cfg/cfg_wdt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cfg__proc_8h_source.html">cfg/cfg_proc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cfg__signal_8h_source.html">cfg/cfg_signal.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="os_8h_source.html">cfg/os.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="debug_8h_source.html">cfg/debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="module_8h_source.html">cfg/module.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="attr_8h_source.html">cpu/attr.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="types_8h_source.html">cpu/types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cpu_2irq_8h_source.html">cpu/irq.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="power_8h_source.html">cpu/power.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="proc__p_8h_source.html">kern/proc_p.h</a>&gt;</code><br/>
<code>#include &lt;PP_STRINGIZE(drv/PP_CAT3(timer, _, CPU_ID).c)&gt;</code><br/>
<code>#include &lt;<a class="el" href="signal_8h_source.html">kern/signal.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="proc_8h_source.html">kern/proc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="macros_8h_source.html">cfg/macros.h</a>&gt;</code><br/>
</div>
<p><a href="timer_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a819fe779d2fc8df878b72f02e6b67999">timer_addToList</a> (<a class="el" href="structTimer.html">Timer</a> *timer, <a class="el" href="structList.html">List</a> *queue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function really does the job.  <a href="#a819fe779d2fc8df878b72f02e6b67999"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga31b280936e453dff724b326c0309af4c">timer_add</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the specified timer to the software timer service queue.  <a href="group__drv__timers.html#ga31b280936e453dff724b326c0309af4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTimer.html">Timer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga083b16dd889741b74ca1142fd6498ae9">timer_abort</a> (<a class="el" href="structTimer.html">Timer</a> *timer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a timer from the timers queue before it has expired.  <a href="group__drv__timers.html#ga083b16dd889741b74ca1142fd6498ae9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gaceda10d0921ceb0e991744fd6760b454">synctimer_add</a> (<a class="el" href="structTimer.html">Timer</a> *timer, <a class="el" href="structList.html">List</a> *queue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add <em>timer</em> to <em>queue</em>.  <a href="group__drv__timers.html#gaceda10d0921ceb0e991744fd6760b454"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga8ef6c10d089728296204e5e03cf39863">synctimer_poll</a> (<a class="el" href="structList.html">List</a> *queue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple synchronous timer based scheduler polling routine.  <a href="group__drv__timers.html#ga8ef6c10d089728296204e5e03cf39863"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#gac497fa7bd2e2ee77b4dcf765b1e24894">timer_delayTicks</a> (<a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the specified amount of timer ticks.  <a href="group__drv__timers.html#gac497fa7bd2e2ee77b4dcf765b1e24894"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga1243060e36ef4739b9d5cc50e8e4f27a">timer_busyWait</a> (<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy wait until the specified amount of high-precision ticks have elapsed.  <a href="group__drv__timers.html#ga1243060e36ef4739b9d5cc50e8e4f27a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga3407c46c6b439217c694ed4372336330">timer_delayHp</a> (<a class="el" href="timer__lpc2_8h.html#a39ca00de3e892de8f389dd23dc6f1053">hptime_t</a> delay)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the specified amount of time (expressed in microseconds).  <a href="group__drv__timers.html#ga3407c46c6b439217c694ed4372336330"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4b50915a13f7782dff7fb06333b1aae8"></a><!-- doxytag: member="timer.c::_clock" ref="ga4b50915a13f7782dff7fb06333b1aae8" args="" -->
volatile <a class="el" href="compiler_8h.html#a9f2d272efa5f391ffc4b9ec4eb59fa88">ticks_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drv__timers.html#ga4b50915a13f7782dff7fb06333b1aae8">_clock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Master system clock (1 tick accuracy) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a545281c85fa6818d5ccc7c3dc831c04d"></a><!-- doxytag: member="timer.c::timers_queue" ref="a545281c85fa6818d5ccc7c3dc831c04d" args="" -->
static REGISTER <a class="el" href="structList.html">List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a545281c85fa6818d5ccc7c3dc831c04d">timers_queue</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structList.html" title="Head of a doubly-linked list of Node structs.">List</a> of active asynchronous timers. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Hardware independent timer driver (implementation) </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt; </dd>
<dd>
Francesco Sacchi &lt;<a href="mailto:batt@develer.com">batt@develer.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a819fe779d2fc8df878b72f02e6b67999"></a><!-- doxytag: member="timer.c::timer_addToList" ref="a819fe779d2fc8df878b72f02e6b67999" args="(Timer *timer, List *queue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_addToList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTimer.html">Timer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structList.html">List</a> *&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function really does the job. </p>
<p>It adds <em>timer</em> to <em>queue</em>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__drv__timers.html#ga31b280936e453dff724b326c0309af4c" title="Add the specified timer to the software timer service queue.">timer_add</a> for details. </dd></dl>

<p>Definition at line <a class="el" href="timer_8c_source.html#l00124">124</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

</div>
</div>
</div>


