

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_1f72f5400b18ab325419d091c349a810.html">hw</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hw_ntc.h File Reference</div>  </div>
</div>
<div class="contents">

<p>NTC hardware-specific definition.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ntc__map_8h_source.html">ntc_map.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="debug_8h_source.html">cfg/debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="ntc_8h_source.html">drv/ntc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="adc_8h_source.html">drv/adc.h</a>&gt;</code><br/>
</div>
<p><a href="hw__ntc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">res_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hw__ntc_8h.html#a84fdb9b47a0d58ccc41f0371d9a1fa2d">ntc_hw_read</a> (NtcDev dev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structNtcHwInfo.html">NtcHwInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hw__ntc_8h.html#af641aaa3a24103576e5fa27db935c92e">ntc_hw_getInfo</a> (NtcDev dev)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>NTC hardware-specific definition. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Francesco Sacchi &lt;<a href="mailto:batt@develer.com">batt@develer.com</a>&gt;</dd></dl>
<p>A NTC acts as a variable resistor, whose resistance changes as a function of the temperature it measures. To sample it correctly, it is usually parallelized and serialized with two fixed resistor. The following diagram shows what is the exact disposition of the components, as handled by this library:</p>
<pre>
                 o Vref
                 |
                 |                               o Vref
                 |                               |
               -----                             |
              |     |                        ---------
              | Rser|                       |         |
              |     |                       |         |
               -----     -----              |   ADC   |
                 | Vp   |     |             |         |
      -----------|------| Amp |-------------|         |
     |           |      |     |      Vadc   |         |
   -----       -----     -----               ---------
  |     |     |     |
  | NTC |     | Rpar|
  |     |     |     |
   -----       -----
     |           |
     |           |
   -----       -----
    ---         ---
 *</pre><p> Amp is an amplifier that amplify of AMP times the signal. If we indicate Rp as the parallel of NTC with Rpar, ADCBITS as the bits of the ad converter and ADCVAL as the result from the adc convertion (Not Vadc but just the value read from the adc register), after various calculation, the expression of Rp is:</p>
<pre></pre><pre>            ADCVAL * Rser
 Rp = ------------------------
         ADCBITS
	2         * AMP - ADCVAL
 *</pre><p>And after that NTC obvisiously is: </p>
<pre>
        Rpar * Rp
 NTC = ----------
        Rpar - Rp
 *</pre><p>The function <a class="el" href="hw__ntc_8h.html#a84fdb9b47a0d58ccc41f0371d9a1fa2d">ntc_hw_read()</a> compute the resistence using these formulas above. </p>

<p>Definition in file <a class="el" href="hw__ntc_8h_source.html">hw_ntc.h</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="af641aaa3a24103576e5fa27db935c92e"></a><!-- doxytag: member="hw_ntc.h::ntc_hw_getInfo" ref="af641aaa3a24103576e5fa27db935c92e" args="(NtcDev dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structNtcHwInfo.html">NtcHwInfo</a>* ntc_hw_getInfo </td>
          <td>(</td>
          <td class="paramtype">NtcDev&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the info (aka the table) associated with ntc device <em>dev</em>. </p>

<p>Definition at line <a class="el" href="hw__ntc_8h_source.html#l00128">128</a> of file <a class="el" href="hw__ntc_8h_source.html">hw_ntc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84fdb9b47a0d58ccc41f0371d9a1fa2d"></a><!-- doxytag: member="hw_ntc.h::ntc_hw_read" ref="a84fdb9b47a0d58ccc41f0371d9a1fa2d" args="(NtcDev dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">res_t ntc_hw_read </td>
          <td>(</td>
          <td class="paramtype">NtcDev&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the resistence of ntc device <em>dev</em>. Return the result in res_t type. </p>

<p>Definition at line <a class="el" href="hw__ntc_8h_source.html#l00112">112</a> of file <a class="el" href="hw__ntc_8h_source.html">hw_ntc.h</a>.</p>

</div>
</div>
</div>


