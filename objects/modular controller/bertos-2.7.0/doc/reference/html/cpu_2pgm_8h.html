

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_a5de7543e32a5f073daa04f8834eb5fd.html">cpu</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">cpu/pgm.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Support for reading program memory on Harvard architectures.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="compiler_8h_source.html">cfg/compiler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="detect_8h_source.html">cpu/detect.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="attr_8h_source.html">cpu/attr.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="types_8h_source.html">cpu/types.h</a>&gt;</code><br/>
</div>
<p><a href="cpu_2pgm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">PGM support macros.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These macros enable dual compilation of code for both program and data memory.</p>
<p>Such a function may be defined like this:</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> PGM_FUNC(lcd_puts)(PGM_ATTR <span class="keyword">const</span> <span class="keywordtype">char</span> *str)
    {
        <span class="keywordtype">char</span> c;
        <span class="keywordflow">while</span> ((c = PGM_READ_CHAR(str++))
            lcd_putchar(c);
    }
</pre></div><p>The above code can be compiled twice: once with the _PROGMEM preprocessor symbol defined, and once without. The two object modules can then be linked in the same application for use by client code:</p>
<div class="fragment"><pre class="fragment">    lcd_puts(<span class="stringliteral">&quot;Hello, world!&quot;</span>);
    lcd_puts_P(PSTR(<span class="stringliteral">&quot;Hello, world!&quot;</span>));

    <span class="comment">// To be used when invoking inside other PGM_FUNC functions:</span>
    PGM_FUNC(lcd_puts)(some_string);
</pre></div> </div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37306efdede4eeb8c1810c1435c937e4"></a><!-- doxytag: member="cpu/pgm.h::PGM_READ8" ref="a37306efdede4eeb8c1810c1435c937e4" args="(a)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_READ8</b>(a)&#160;&#160;&#160;(*(const uint8_t  *)(a))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0860d70293f71f97cb1daeba224f785"></a><!-- doxytag: member="cpu/pgm.h::PGM_READ16" ref="af0860d70293f71f97cb1daeba224f785" args="(a)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_READ16</b>(a)&#160;&#160;&#160;(*(const uint16_t *)(a))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a285c6b2962b78f9fc843fd49bd96182a"></a><!-- doxytag: member="cpu/pgm.h::PGM_READ32" ref="a285c6b2962b78f9fc843fd49bd96182a" args="(a)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_READ32</b>(a)&#160;&#160;&#160;(*(const uint32_t *)(a))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeee21601d8bd4d8089df7b44fa296c23"></a><!-- doxytag: member="cpu/pgm.h::PGM_FUNC" ref="aeee21601d8bd4d8089df7b44fa296c23" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_FUNC</b>(x)&#160;&#160;&#160;x</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab9f46d6160b357998090d7b0e0ba500"></a><!-- doxytag: member="cpu/pgm.h::PGM_STR" ref="aab9f46d6160b357998090d7b0e0ba500" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_STR</b>(x)&#160;&#160;&#160;x</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff954d4e57b7b96e524d037400a490b9"></a><!-- doxytag: member="cpu/pgm.h::PGM_ATTR" ref="aff954d4e57b7b96e524d037400a490b9" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_ATTR</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a729f07f9fd9d0d9ca8323b0009720a07"></a><!-- doxytag: member="cpu/pgm.h::PGM_READ_CHAR" ref="a729f07f9fd9d0d9ca8323b0009720a07" args="(addr)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PGM_READ_CHAR</b>(addr)&#160;&#160;&#160;PGM_READ8(addr)</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Types for variables stored in program memory (harvard processors).</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4485ba90502735c5a69fe9deb206c300"></a><!-- doxytag: member="cpu/pgm.h::pgm_char" ref="a4485ba90502735c5a69fe9deb206c300" args="" -->
typedef PROGMEM char&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_char</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6851291455a4f2503ab7442345dbbe44"></a><!-- doxytag: member="cpu/pgm.h::pgm_int8_t" ref="a6851291455a4f2503ab7442345dbbe44" args="" -->
typedef PROGMEM int8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_int8_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab97f9eb7c7e4488aa57b6f81e434eaf"></a><!-- doxytag: member="cpu/pgm.h::pgm_uint8_t" ref="aab97f9eb7c7e4488aa57b6f81e434eaf" args="" -->
typedef PROGMEM uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_uint8_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab914cc3104a7624fb0a52dcb686f257c"></a><!-- doxytag: member="cpu/pgm.h::pgm_int16_t" ref="ab914cc3104a7624fb0a52dcb686f257c" args="" -->
typedef PROGMEM int16_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_int16_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48f93b5c3b80a438ce6a690a77879223"></a><!-- doxytag: member="cpu/pgm.h::pgm_uint16_t" ref="a48f93b5c3b80a438ce6a690a77879223" args="" -->
typedef PROGMEM uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_uint16_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a711c23582f113bd20479429ce14ff759"></a><!-- doxytag: member="cpu/pgm.h::pgm_int32_t" ref="a711c23582f113bd20479429ce14ff759" args="" -->
typedef PROGMEM int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_int32_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab281ceb829aaa362e93e38e8fb4d373f"></a><!-- doxytag: member="cpu/pgm.h::pgm_uint32_t" ref="ab281ceb829aaa362e93e38e8fb4d373f" args="" -->
typedef PROGMEM uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>pgm_uint32_t</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Support for reading program memory on Harvard architectures. </p>
<p>Support is currently provided for AVR microcontrollers only.</p>
<p>These macros allow building code twice, with and without pgm support (e.g.: strcpy() and strcpy_P()).</p>
<p>Set the _PROGMEM predefine to compile in conditional program-memory support.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This module contains code ripped out from avr-libc, which is distributed under a 3-clause BSD license.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="cpu_2pgm_8h_source.html">cpu/pgm.h</a>.</p>
</div></div>


