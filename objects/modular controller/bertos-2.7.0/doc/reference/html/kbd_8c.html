

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_f7c89dbd63e8f34e572fe939945c15d7.html">drv</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">kbd.c File Reference</div>  </div>
</div>
<div class="contents">

<p>Keyboard driver (implementation)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="hw__kbd_8h_source.html">hw/hw_kbd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cfg__kbd_8h_source.html">cfg/cfg_kbd.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="debug_8h_source.html">cfg/debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="module_8h_source.html">cfg/module.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="timer_8h_source.html">drv/timer.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="event_8h_source.html">mware/event.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="kbd_8h_source.html">drv/kbd.h</a>&gt;</code><br/>
</div>
<p><a href="kbd_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd462026a0da181b1e65c9ba826cb355"></a><!-- doxytag: member="kbd.c::KBD_CHECK_INTERVAL" ref="afd462026a0da181b1e65c9ba826cb355" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#afd462026a0da181b1e65c9ba826cb355">KBD_CHECK_INTERVAL</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Timing for kbd softint <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18c9fc3158d60023e2f0fdb1fe3af8f1"></a><!-- doxytag: member="kbd.c::KBD_DEBOUNCE_TIME" ref="a18c9fc3158d60023e2f0fdb1fe3af8f1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a18c9fc3158d60023e2f0fdb1fe3af8f1">KBD_DEBOUNCE_TIME</a>&#160;&#160;&#160;30</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Debounce time <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b03e6a7d8a8fce553e62e00cf1b7651"></a><!-- doxytag: member="kbd.c::KBD_BEEP_TIME" ref="a5b03e6a7d8a8fce553e62e00cf1b7651" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a5b03e6a7d8a8fce553e62e00cf1b7651">KBD_BEEP_TIME</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Duration of keybeep <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2067fff72d5b043b9103497526d499ba"></a><!-- doxytag: member="kbd.c::KBD_REPEAT_DELAY" ref="a2067fff72d5b043b9103497526d499ba" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a2067fff72d5b043b9103497526d499ba">KBD_REPEAT_DELAY</a>&#160;&#160;&#160;400</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Keyboard repeat delay for first character <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac2fce5b5911f0d8ba6f3cd7a027c6bd"></a><!-- doxytag: member="kbd.c::KBD_REPEAT_RATE" ref="aac2fce5b5911f0d8ba6f3cd7a027c6bd" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#aac2fce5b5911f0d8ba6f3cd7a027c6bd">KBD_REPEAT_RATE</a>&#160;&#160;&#160;100</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Initial interchar delay for keyboard repeat <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae139778c5e34a5423c68f36224d70c6d"></a><!-- doxytag: member="kbd.c::KBD_REPEAT_MAXRATE" ref="ae139778c5e34a5423c68f36224d70c6d" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#ae139778c5e34a5423c68f36224d70c6d">KBD_REPEAT_MAXRATE</a>&#160;&#160;&#160;20</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Minimum delay for keyboard repeat <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76f306c919cfcad071216409a0dccc4b"></a><!-- doxytag: member="kbd.c::KBD_REPEAT_ACCEL" ref="a76f306c919cfcad071216409a0dccc4b" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a76f306c919cfcad071216409a0dccc4b">KBD_REPEAT_ACCEL</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Keyboard repeat speed increase <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8da654f54256e320c1f39d08c2c72ed9"></a><!-- doxytag: member="kbd.c::KBD_LNG_DELAY" ref="a8da654f54256e320c1f39d08c2c72ed9" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a8da654f54256e320c1f39d08c2c72ed9">KBD_LNG_DELAY</a>&#160;&#160;&#160;1000</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(ms) Keyboard long pression keys delay <br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Status for keyboard repeat state machine. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#ad28f4915482aecb89395c5da958e426b">kbd_poll</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll keyboard and dispatch keys to handlers.  <a href="#ad28f4915482aecb89395c5da958e426b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8b6d0f5317809a064177dd4ab1f9a28"></a><!-- doxytag: member="kbd.c::kbd_softint" ref="ad8b6d0f5317809a064177dd4ab1f9a28" args="(UNUSED_ARG(iptr_t, arg))" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#ad8b6d0f5317809a064177dd4ab1f9a28">kbd_softint</a> (UNUSED_ARG(<a class="el" href="compiler_8h.html#afebdfc027148249641ae51fb8c7914fc">iptr_t</a>, arg))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Keyboard soft-irq handler. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kbd.html#ga03b4f35bd4cffefd7f8881e20429b2b3">kbd_peek</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a key from the keyboard buffer.  <a href="group__kbd.html#ga03b4f35bd4cffefd7f8881e20429b2b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kbd.html#ga38ed9c15fb616b8389a46c7a6f6bf50f">kbd_get</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a keypress and return the mask of depressed keys.  <a href="group__kbd.html#ga38ed9c15fb616b8389a46c7a6f6bf50f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad5e0897802982dbf8b0e9c53dcea8e3a"></a><!-- doxytag: member="kbd.c::kbd_get_timeout" ref="gad5e0897802982dbf8b0e9c53dcea8e3a" args="(mtime_t timeout)" -->
<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kbd.html#gad5e0897802982dbf8b0e9c53dcea8e3a">kbd_get_timeout</a> (<a class="el" href="compiler_8h.html#ac6f57181b1edf6b9b510c8a1a66201c1">mtime_t</a> timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait up to <code>timeout</code> ms for a keypress and return the mask of depressed keys, or K_TIMEOUT if the timeout was reacked. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#acdb26b0d89f2f403487d9edf88e8a203">kbd_defHandlerFunc</a> (<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the default key handler, called after all other handlers have had their chance to do their special processing.  <a href="#acdb26b0d89f2f403487d9edf88e8a203"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a2a4608546096437a8fbcd41b328939b1">kbd_debHandlerFunc</a> (<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle keyboard debounce.  <a href="#a2a4608546096437a8fbcd41b328939b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7f7c29752fff9184dcb203d2aac96c5e"></a><!-- doxytag: member="kbd.c::kbd_setRepeatMask" ref="ga7f7c29752fff9184dcb203d2aac96c5e" args="(keymask_t mask)" -->
<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kbd.html#ga7f7c29752fff9184dcb203d2aac96c5e">kbd_setRepeatMask</a> (<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> mask)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set current mask of repeatable keys. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a49975dc7d8502eaee709debfdab79591">kbd_rptHandlerFunc</a> (<a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle keyboard repeat.  <a href="#a49975dc7d8502eaee709debfdab79591"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2d4a794658f2ee47f466766d89c6e8e8"></a><!-- doxytag: member="kbd.c::kbd_init" ref="ga2d4a794658f2ee47f466766d89c6e8e8" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kbd.html#ga2d4a794658f2ee47f466766d89c6e8e8">kbd_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize keyboard ports and softtimer. <br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a684af100147d64fe07f527c850e0608e"></a><!-- doxytag: member="kbd.c::key_pressed" ref="a684af100147d64fe07f527c850e0608e" args="" -->
static Event&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a684af100147d64fe07f527c850e0608e">key_pressed</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to notify the occurrence of a key pressed event. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a596c996d560a6414fb8d5b437ebca7e9"></a><!-- doxytag: member="kbd.c::kbd_buf" ref="a596c996d560a6414fb8d5b437ebca7e9" args="" -->
static volatile <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a596c996d560a6414fb8d5b437ebca7e9">kbd_buf</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Single entry keyboard buffer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a374fb9cc4955f4b717de976a216eb22a"></a><!-- doxytag: member="kbd.c::kbd_cnt" ref="a374fb9cc4955f4b717de976a216eb22a" args="" -->
static volatile <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a374fb9cc4955f4b717de976a216eb22a">kbd_cnt</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of keypress events in <code>kbd_buf</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#ae3498d1f4be6d0de1048e56506516ed3">kbd_rpt_mask</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask of repeatable keys.  <a href="#ae3498d1f4be6d0de1048e56506516ed3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a110a28d05398647fc0d92aacb76efb"></a><!-- doxytag: member="kbd.c::kbd_timer" ref="a5a110a28d05398647fc0d92aacb76efb" args="" -->
static <a class="el" href="structTimer.html">Timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a5a110a28d05398647fc0d92aacb76efb">kbd_timer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Keyboard softtimer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78685faf161f1ba18547c9877af761a8"></a><!-- doxytag: member="kbd.c::kbd_rawHandlers" ref="a78685faf161f1ba18547c9877af761a8" args="" -->
static <a class="el" href="structList.html">List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a78685faf161f1ba18547c9877af761a8">kbd_rawHandlers</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw keyboard handlers. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1af76d4b7bac7f4745816eec7200181"></a><!-- doxytag: member="kbd.c::kbd_handlers" ref="af1af76d4b7bac7f4745816eec7200181" args="" -->
static <a class="el" href="structList.html">List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#af1af76d4b7bac7f4745816eec7200181">kbd_handlers</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cooked keyboard handlers. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac873455fbfb1d581482c292e377d7208"></a><!-- doxytag: member="kbd.c::kbd_defHandler" ref="ac873455fbfb1d581482c292e377d7208" args="" -->
static <a class="el" href="structKbdHandler.html">KbdHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#ac873455fbfb1d581482c292e377d7208">kbd_defHandler</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The default keyboard handler. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a458df40437683bc15b051367d3a19572"></a><!-- doxytag: member="kbd.c::kbd_debHandler" ref="a458df40437683bc15b051367d3a19572" args="" -->
static <a class="el" href="structKbdHandler.html">KbdHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a458df40437683bc15b051367d3a19572">kbd_debHandler</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The debounce keyboard handler. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d70659f33011c5b624708bc21c31b76"></a><!-- doxytag: member="kbd.c::kbd_rptHandler" ref="a7d70659f33011c5b624708bc21c31b76" args="" -->
static <a class="el" href="structKbdHandler.html">KbdHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kbd_8c.html#a7d70659f33011c5b624708bc21c31b76">kbd_rptHandler</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto-repeat keyboard handler. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Keyboard driver (implementation) </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt; </dd>
<dd>
Stefano Fedrigo &lt;<a href="mailto:aleph@develer.com">aleph@develer.com</a>&gt; </dd>
<dd>
Francesco Sacchi &lt;<a href="mailto:batt@develer.com">batt@develer.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2a4608546096437a8fbcd41b328939b1"></a><!-- doxytag: member="kbd.c::kbd_debHandlerFunc" ref="a2a4608546096437a8fbcd41b328939b1" args="(keymask_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> kbd_debHandlerFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle keyboard debounce. </p>

<p><p>Buffer for debounce</p>
<p><a class="el" href="structTimer.html" title="The timer driver supports multiple synchronous timers that can trigger an event when they expire...">Timer</a> for keyboard debounce</p>
<p>Key aquired after debounce </p>
</p>

<p>Definition at line <a class="el" href="kbd_8c_source.html#l00303">303</a> of file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>

</div>
</div>
<a class="anchor" id="acdb26b0d89f2f403487d9edf88e8a203"></a><!-- doxytag: member="kbd.c::kbd_defHandlerFunc" ref="acdb26b0d89f2f403487d9edf88e8a203" args="(keymask_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> kbd_defHandlerFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the default key handler, called after all other handlers have had their chance to do their special processing. </p>
<p>This handler pushes all input in the keyboard FIFO buffer. </p>

<p>Definition at line <a class="el" href="kbd_8c_source.html#l00275">275</a> of file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad28f4915482aecb89395c5da958e426b"></a><!-- doxytag: member="kbd.c::kbd_poll" ref="ad28f4915482aecb89395c5da958e426b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void kbd_poll </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Poll keyboard and dispatch keys to handlers. </p>
<p>Read the key states and invoke all keyboard handlers to process the new state.</p>
<p>Call this function periodically using a software timer, an interrupt or a process. </p>

<p><p>Currently depressed key </p>
</p>

<p>Definition at line <a class="el" href="kbd_8c_source.html#l00124">124</a> of file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>

</div>
</div>
<a class="anchor" id="a49975dc7d8502eaee709debfdab79591"></a><!-- doxytag: member="kbd.c::kbd_rptHandlerFunc" ref="a49975dc7d8502eaee709debfdab79591" args="(keymask_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> kbd_rptHandlerFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle keyboard repeat. </p>

<p><p>Current repeat rate (for acceleration) </p>
</p>

<p>Definition at line <a class="el" href="kbd_8c_source.html#l00366">366</a> of file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae3498d1f4be6d0de1048e56506516ed3"></a><!-- doxytag: member="kbd.c::kbd_rpt_mask" ref="ae3498d1f4be6d0de1048e56506516ed3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kbd__map_8h.html#a38db4a8c8933683db65d6da97fc54f9d">keymask_t</a> <a class="el" href="kbd_8c.html#ae3498d1f4be6d0de1048e56506516ed3">kbd_rpt_mask</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask of repeatable keys. </p>

<p>Definition at line <a class="el" href="kbd_8c_source.html#l00092">92</a> of file <a class="el" href="kbd_8c_source.html">kbd.c</a>.</p>

</div>
</div>
</div>


