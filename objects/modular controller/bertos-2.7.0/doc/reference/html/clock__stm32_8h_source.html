

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_a5de7543e32a5f073daa04f8834eb5fd.html">cpu</a>      </li>
      <li class="navelem"><a class="el" href="dir_b85b1b77342b0233aa6bdb4655adc5e9.html">cortex-m3</a>      </li>
      <li class="navelem"><a class="el" href="dir_67d33e4ffe4ff938d746541f95b62a0f.html">drv</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">clock_stm32.h</div>  </div>
</div>
<div class="contents">
<a href="clock__stm32_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef CLOCK_STM32_H</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#define CLOCK_STM32_H</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;<a class="code" href="compiler_8h.html" title="Additional support macros for compiler independance.">cfg/compiler.h</a>&gt;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">/* RCC registers bit address */</span>
<a name="l00045"></a>00045 <span class="preprocessor">#define RCC_OFFSET                (RCC_BASE - PERIPH_BASE)</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="comment">/*\{*/</span>
<a name="l00051"></a>00051 <span class="comment">/* Alias word address of HSION bit */</span>
<a name="l00052"></a><a class="code" href="clock__stm32_8h.html#afa1d3d0ea72132df651c76fc1bdffffc">00052</a> <span class="preprocessor">#define CR_OFFSET                 (RCC_OFFSET + 0x00)</span>
<a name="l00053"></a><a class="code" href="clock__stm32_8h.html#a79f147c8b2f8fe05574f861483be5aa4">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define HSION_BITNUMBER           0x00</span>
<a name="l00054"></a><a class="code" href="clock__stm32_8h.html#ac3290a833c0e35ec17d32c2d494e6133">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_HSION_BB               ((reg32_t *)(PERIPH_BB_BASE + (CR_OFFSET * 32) + (HSION_BITNUMBER * 4)))</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 <span class="comment">/* Alias word address of PLLON bit */</span>
<a name="l00057"></a><a class="code" href="clock__stm32_8h.html#a1360ce96541cc7c323d3ea4b5b885a64">00057</a> <span class="preprocessor">#define PLLON_BITNUMBER           0x18</span>
<a name="l00058"></a><a class="code" href="clock__stm32_8h.html#a3f1fb2589cb8b5ac2f7121aba1135a5f">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_PLLON_BB               ((reg32_t *)(PERIPH_BB_BASE + (CR_OFFSET * 32) + (PLLON_BITNUMBER * 4)))</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="comment">/* Alias word address of CSSON bit */</span>
<a name="l00061"></a><a class="code" href="clock__stm32_8h.html#a993cf17c844a51d912cf099d4117bd70">00061</a> <span class="preprocessor">#define CSSON_BITNUMBER           0x13</span>
<a name="l00062"></a><a class="code" href="clock__stm32_8h.html#aca914aed10477ae4090fea0a9639b1ea">00062</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_CSSON_BB               ((reg32_t *)(PERIPH_BB_BASE + (CR_OFFSET * 32) + (CSSON_BITNUMBER * 4)))</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00064"></a>00064 
<a name="l00068"></a>00068 <span class="comment">/*\{*/</span>
<a name="l00069"></a>00069 <span class="comment">/* Alias word address of USBPRE bit */</span>
<a name="l00070"></a><a class="code" href="clock__stm32_8h.html#a8682298330c3b9bae1992e4f1a0af985">00070</a> <span class="preprocessor">#define CFGR_OFFSET               (RCC_OFFSET + 0x04)</span>
<a name="l00071"></a><a class="code" href="clock__stm32_8h.html#a82522a495a292b28cfa48c51de616d54">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define USBPRE_BITNUMBER          0x16</span>
<a name="l00072"></a><a class="code" href="clock__stm32_8h.html#abde4e60349b8412a79611c0aeb27c3a2">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_USBPRE_BB            ((reg32_t *)(PERIPH_BB_BASE + (CFGR_OFFSET * 32) + (USBPRE_BITNUMBER * 4)))</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00074"></a>00074 
<a name="l00078"></a>00078 <span class="comment">/*\{*/</span>
<a name="l00079"></a>00079 <span class="comment">/* Alias word address of RTCEN bit */</span>
<a name="l00080"></a><a class="code" href="clock__stm32_8h.html#a5f8a0c3cb5f5c835bf7eef09515138ad">00080</a> <span class="preprocessor">#define BDCR_OFFSET               (RCC_OFFSET + 0x20)</span>
<a name="l00081"></a><a class="code" href="clock__stm32_8h.html#a58db3c6eeaa150182f32e741e2ad8066">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define RTCEN_BITNUMBER           0x0F</span>
<a name="l00082"></a><a class="code" href="clock__stm32_8h.html#af70aaf70b0752ccb3a60307b2fb46038">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define BDCR_RTCEN_BB             ((reg32_t *)(PERIPH_BB_BASE + (BDCR_OFFSET * 32) + (RTCEN_BITNUMBER * 4)))</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span>
<a name="l00084"></a>00084 <span class="comment">/* Alias word address of BDRST bit */</span>
<a name="l00085"></a><a class="code" href="clock__stm32_8h.html#a8a86677bfcc1259edf9b9a5f85e7e04a">00085</a> <span class="preprocessor">#define BDRST_BITNUMBER           0x10</span>
<a name="l00086"></a><a class="code" href="clock__stm32_8h.html#a892fdf297b85b85cbaf0723649b31818">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define BDCR_BDRST_BB             ((reg32_t *)(PERIPH_BB_BASE + (BDCR_OFFSET * 32) + (BDRST_BITNUMBER * 4)))</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00088"></a>00088 
<a name="l00092"></a>00092 <span class="comment">/*\{*/</span>
<a name="l00093"></a>00093 <span class="comment">/* Alias word address of LSION bit */</span>
<a name="l00094"></a><a class="code" href="clock__stm32_8h.html#a984cbe73312b6d3d355c5053763d499a">00094</a> <span class="preprocessor">#define CSR_OFFSET                (RCC_OFFSET + 0x24)</span>
<a name="l00095"></a><a class="code" href="clock__stm32_8h.html#a240275048c246bf22b5fce8ff4f7b33d">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define LSION_BITNUMBER           0x00</span>
<a name="l00096"></a><a class="code" href="clock__stm32_8h.html#aa253e36e7e5fb02998c0e4d0388abc52">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define CSR_LSION_BB              ((reg32_t *)(PERIPH_BB_BASE + (CSR_OFFSET * 32) + (LSION_BITNUMBER * 4)))</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00098"></a>00098 
<a name="l00102"></a>00102 <span class="comment">/*\{*/</span>
<a name="l00103"></a>00103 <span class="comment">/* CR register bit mask */</span>
<a name="l00104"></a><a class="code" href="clock__stm32_8h.html#af98c4f5200a3829fd6b7554489a60067">00104</a> <span class="preprocessor">#define CR_HSEBYP_RESET           (0xFFFBFFFF)</span>
<a name="l00105"></a><a class="code" href="clock__stm32_8h.html#a95541c70b995bfa30703b519474e8b40">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_HSEBYP_SET             (0x00040000)</span>
<a name="l00106"></a><a class="code" href="clock__stm32_8h.html#a0dc584df8ef92beb30fc7b426e7301e2">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_HSEON_RESET            (0xFFFEFFFF)</span>
<a name="l00107"></a><a class="code" href="clock__stm32_8h.html#a7d4e7f5bb4fab65bedf7be8bb0a79576">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_HSEON_SET              (0x00010000)</span>
<a name="l00108"></a><a class="code" href="clock__stm32_8h.html#a7c8480163f245d6b41f4b75d0ffe3ebd">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define CR_HSITRIM_MASK           (0xFFFFFF07)</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>
<a name="l00110"></a>00110 <span class="comment">/* CFGR register bit mask */</span>
<a name="l00111"></a><a class="code" href="clock__stm32_8h.html#a40bf87578e6cbebf073843834b08f704">00111</a> <span class="preprocessor">#define CFGR_PLL_MASK             (0xFFC0FFFF)</span>
<a name="l00112"></a><a class="code" href="clock__stm32_8h.html#a7e7227a6d6306cb6b1b2d2c3286095cc">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PLLMull_MASK         (0x003C0000)</span>
<a name="l00113"></a><a class="code" href="clock__stm32_8h.html#ab0d5ea668e7db64d732f26603badec54">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PLLSRC_MASK          (0x00010000)</span>
<a name="l00114"></a><a class="code" href="clock__stm32_8h.html#a0013b3739a84519b7d03ec780a90972c">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PLLXTPRE_MASK        (0x00020000)</span>
<a name="l00115"></a><a class="code" href="clock__stm32_8h.html#a65e435a1fd966d0100957c7c1ba4b91e">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_SWS_MASK             (0x0000000C)</span>
<a name="l00116"></a><a class="code" href="clock__stm32_8h.html#a2207a0e7d8008393e2bb8b5caef8c51a">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_SW_MASK              (0xFFFFFFFC)</span>
<a name="l00117"></a><a class="code" href="clock__stm32_8h.html#a0617929f0c8b3f31393ea9efd06b873f">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_HPRE_RESET_MASK      (0xFFFFFF0F)</span>
<a name="l00118"></a><a class="code" href="clock__stm32_8h.html#a10a045284b275ab92d7c4a6332fc4e7c">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_HPRE_SET_MASK        (0x000000F0)</span>
<a name="l00119"></a><a class="code" href="clock__stm32_8h.html#aca58c96b96101e0ca7cb600ceef1734f">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PPRE1_RESET_MASK     (0xFFFFF8FF)</span>
<a name="l00120"></a><a class="code" href="clock__stm32_8h.html#a6e932fc381b08378dc828b0202322116">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PPRE1_SET_MASK       (0x00000700)</span>
<a name="l00121"></a><a class="code" href="clock__stm32_8h.html#a2b2371c6fc3acbac9b71d06691ceb500">00121</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PPRE2_RESET_MASK     (0xFFFFC7FF)</span>
<a name="l00122"></a><a class="code" href="clock__stm32_8h.html#a5c2d7e90f101c7f92d97e46e6fb90a34">00122</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_PPRE2_SET_MASK       (0x00003800)</span>
<a name="l00123"></a><a class="code" href="clock__stm32_8h.html#a7a0fb0387dc0764d8a98d167dcfcde15">00123</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_ADCPRE_RESET_MASK    (0xFFFF3FFF)</span>
<a name="l00124"></a><a class="code" href="clock__stm32_8h.html#a992f5998f8fbd7f8b1df769914a2ebf2">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define CFGR_ADCPRE_SET_MASK      (0x0000C000)</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 <span class="comment">/* CSR register bit mask */</span>
<a name="l00127"></a><a class="code" href="clock__stm32_8h.html#aec006f1423af2a9b4685fe8e4a545c91">00127</a> <span class="preprocessor">#define CSR_RVMF_SET              (0x01000000)</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span>
<a name="l00129"></a>00129 <span class="comment">/* RCC Flag MASK */</span>
<a name="l00130"></a><a class="code" href="clock__stm32_8h.html#a890221cb651a3f30f6d1bca0d9b0e13d">00130</a> <span class="preprocessor">#define FLAG_MASK                 (0x1F)</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>
<a name="l00132"></a>00132 <span class="comment">/* Typical VALUE of the HSI in Hz */</span>
<a name="l00133"></a><a class="code" href="clock__stm32_8h.html#aaa8c76e274d0f6dd2cefb5d0b17fbc37">00133</a> <span class="preprocessor">#define HSI_VALUE                 (8000000)</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a>00135 <span class="comment">/* BDCR register base address */</span>
<a name="l00136"></a><a class="code" href="clock__stm32_8h.html#a083c9dde2e3753a686e8417a9fdb0ba9">00136</a> <span class="preprocessor">#define BDCR_BASE                 (PERIPH_BASE + BDCR_OFFSET)</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="comment">/* RCC Flag */</span>
<a name="l00139"></a><a class="code" href="clock__stm32_8h.html#a827d986723e7ce652fa733bb8184d216">00139</a> <span class="preprocessor">#define RCC_FLAG_HSIRDY                  (0x20)</span>
<a name="l00140"></a><a class="code" href="clock__stm32_8h.html#a173edf47bec93cf269a0e8d0fec9997c">00140</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_HSERDY                  (0x31)</span>
<a name="l00141"></a><a class="code" href="clock__stm32_8h.html#af82d8afb18d9df75db1d6c08b9c50046">00141</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_PLLRDY                  (0x39)</span>
<a name="l00142"></a><a class="code" href="clock__stm32_8h.html#ac9fb963db446c16e46a18908f7fe1927">00142</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_LSERDY                  (0x41)</span>
<a name="l00143"></a><a class="code" href="clock__stm32_8h.html#a8c5e4992314d347597621bfe7ab10d72">00143</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_LSIRDY                  (0x61)</span>
<a name="l00144"></a><a class="code" href="clock__stm32_8h.html#abfc3ab5d4a8a94ec1c9f38794ce37ad6">00144</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_PINRST                  (0x7A)</span>
<a name="l00145"></a><a class="code" href="clock__stm32_8h.html#a39ad309070f416720207eece5da7dc2c">00145</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_PORRST                  (0x7B)</span>
<a name="l00146"></a><a class="code" href="clock__stm32_8h.html#af7852615e9b19f0b2dbc8d08c7594b52">00146</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_SFTRST                  (0x7C)</span>
<a name="l00147"></a><a class="code" href="clock__stm32_8h.html#aac46bac8a97cf16635ff7ffc1e6c657f">00147</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_IWDGRST                 (0x7D)</span>
<a name="l00148"></a><a class="code" href="clock__stm32_8h.html#aa80b60b2d497ccd7b7de1075009999a7">00148</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_WWDGRST                 (0x7E)</span>
<a name="l00149"></a><a class="code" href="clock__stm32_8h.html#a67049531354aed7546971163d02c9920">00149</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_FLAG_LPWRRST                 (0x7F)</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span>
<a name="l00151"></a>00151 <span class="comment">/* System clock source */</span>
<a name="l00152"></a><a class="code" href="clock__stm32_8h.html#aa01c2b7d2b8ed050b5d67b9d65b697de">00152</a> <span class="preprocessor">#define RCC_SYSCLK_HSI             (0x00000000)</span>
<a name="l00153"></a><a class="code" href="clock__stm32_8h.html#aa8ef2bd5c5a0bf0c67939f540729d7d3">00153</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_HSE             (0x00000001)</span>
<a name="l00154"></a><a class="code" href="clock__stm32_8h.html#a6d2b1a11555d0705eedcd13c6f4cd96d">00154</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_PLLCLK          (0x00000002)</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span>
<a name="l00156"></a>00156 <span class="comment">/* PLL entry clock source */</span>
<a name="l00157"></a><a class="code" href="clock__stm32_8h.html#a9cb9a0100ca7c9208c8005fea2b2b14f">00157</a> <span class="preprocessor">#define RCC_PLL_HSI_DIV2           (0x00000000)</span>
<a name="l00158"></a><a class="code" href="clock__stm32_8h.html#aed975a933fa3f44ade0d8cb6c836f8c1">00158</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLL_HSE_DIV1           (0x00010000)</span>
<a name="l00159"></a><a class="code" href="clock__stm32_8h.html#a4fea14758c31a21f21ee51cc09886865">00159</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLL_HSE_DIV2           (0x00030000)</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>
<a name="l00161"></a>00161 <span class="comment">/* PLL multiplication factor */</span>
<a name="l00162"></a><a class="code" href="clock__stm32_8h.html#a0ebe1dfbc2ae31e70f36244f10bf6d5f">00162</a> <span class="preprocessor">#define RCC_PLLMUL_2               (0x00000000)</span>
<a name="l00163"></a><a class="code" href="clock__stm32_8h.html#a7ff52ba9f89830affd1e02929b4db74e">00163</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_3               (0x00040000)</span>
<a name="l00164"></a><a class="code" href="clock__stm32_8h.html#a48cf05c73391e2319b0be6b2a3c9d9c9">00164</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_4               (0x00080000)</span>
<a name="l00165"></a><a class="code" href="clock__stm32_8h.html#a2aad010d32a927503903fbecc9a3349e">00165</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_5               (0x000C0000)</span>
<a name="l00166"></a><a class="code" href="clock__stm32_8h.html#acbc14a066a66d57867c5f1f5a3669201">00166</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_6               (0x00100000)</span>
<a name="l00167"></a><a class="code" href="clock__stm32_8h.html#aa3f8576a2b5fcd87cc80ae5af5ebe622">00167</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_7               (0x00140000)</span>
<a name="l00168"></a><a class="code" href="clock__stm32_8h.html#aa2dc44220ad0fa4e951fa2bd64b3b154">00168</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_8               (0x00180000)</span>
<a name="l00169"></a><a class="code" href="clock__stm32_8h.html#a49dd72117c564c0dceb20c3912d5e3df">00169</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_9               (0x001C0000)</span>
<a name="l00170"></a><a class="code" href="clock__stm32_8h.html#a5efcaffdf90a8c8b80283591eb6c5941">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_10              (0x00200000)</span>
<a name="l00171"></a><a class="code" href="clock__stm32_8h.html#acb23fe23844170409bd89186977f9ffe">00171</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_11              (0x00240000)</span>
<a name="l00172"></a><a class="code" href="clock__stm32_8h.html#aeb9e97f00772bed44ea9dae4788b16d0">00172</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_12              (0x00280000)</span>
<a name="l00173"></a><a class="code" href="clock__stm32_8h.html#a65080fb774246025eb08f6ba007e9efd">00173</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_13              (0x002C0000)</span>
<a name="l00174"></a><a class="code" href="clock__stm32_8h.html#a3c3a76ddafac11a483ffda9e0e8a5f16">00174</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_14              (0x00300000)</span>
<a name="l00175"></a><a class="code" href="clock__stm32_8h.html#a4845fc6b0fdd66ccccb1b9bf3262a704">00175</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_15              (0x00340000)</span>
<a name="l00176"></a><a class="code" href="clock__stm32_8h.html#a303c5bb3511ab4dc8afc78eb8a94db6e">00176</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PLLMUL_16              (0x00380000)</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a>00178 <span class="comment">/* APB1/APB2 clock source */</span>
<a name="l00179"></a><a class="code" href="clock__stm32_8h.html#a8e3fcdef0e5d77bb61a52420fe1e9fbc">00179</a> <span class="preprocessor">#define RCC_HCLK_DIV1              (0x00000000)</span>
<a name="l00180"></a><a class="code" href="clock__stm32_8h.html#a4d2ebcf280d85e8449a5fb7b994b5169">00180</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_HCLK_DIV2              (0x00000400)</span>
<a name="l00181"></a><a class="code" href="clock__stm32_8h.html#a85b5f4fd936e22a3f4df5ed756f6e083">00181</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_HCLK_DIV4              (0x00000500)</span>
<a name="l00182"></a><a class="code" href="clock__stm32_8h.html#adb18bc60e2c639cb59244bedb54f7bb3">00182</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_HCLK_DIV8              (0x00000600)</span>
<a name="l00183"></a><a class="code" href="clock__stm32_8h.html#a27ac27d48360121bc2dc68b99dc8845d">00183</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_HCLK_DIV16             (0x00000700)</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>
<a name="l00185"></a>00185 <span class="comment">/* USB clock source */</span>
<a name="l00186"></a><a class="code" href="clock__stm32_8h.html#a8387dc14d665bcf7a3b2d92ef0b0c8d1">00186</a> <span class="preprocessor">#define RCC_USBCLK_PLLCLK_1DIV5    (0x00)</span>
<a name="l00187"></a><a class="code" href="clock__stm32_8h.html#a1b9571bdda3c0853a56608afb50ec11d">00187</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_USBCLK_PLLCLK_DIV1     (0x01)</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>
<a name="l00189"></a>00189 <span class="comment">/* ADC clock source */</span>
<a name="l00190"></a><a class="code" href="clock__stm32_8h.html#ad87bdfdc0161d5c8c8681a648889d221">00190</a> <span class="preprocessor">#define RCC_PCLK2_DIV2             (0x00000000)</span>
<a name="l00191"></a><a class="code" href="clock__stm32_8h.html#ab0820b3c45a438d13c7972a0755c4b96">00191</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PCLK2_DIV4             (0x00004000)</span>
<a name="l00192"></a><a class="code" href="clock__stm32_8h.html#a40c04975b2d69f04ace1284f3b44dbb6">00192</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PCLK2_DIV6             (0x00008000)</span>
<a name="l00193"></a><a class="code" href="clock__stm32_8h.html#a57ad7e9c5a7fbaf169586745ae349512">00193</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_PCLK2_DIV8             (0x0000C000)</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span>
<a name="l00195"></a>00195 <span class="comment">/* AHB clock source */</span>
<a name="l00196"></a><a class="code" href="clock__stm32_8h.html#a226f5bf675015ea677868132b6b83494">00196</a> <span class="preprocessor">#define RCC_SYSCLK_DIV1            (0x00000000)</span>
<a name="l00197"></a><a class="code" href="clock__stm32_8h.html#ac37c0610458a92e3cb32ec81014625c3">00197</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV2            (0x00000080)</span>
<a name="l00198"></a><a class="code" href="clock__stm32_8h.html#a6fd3652d6853563cdf388a4386b9d22f">00198</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV4            (0x00000090)</span>
<a name="l00199"></a><a class="code" href="clock__stm32_8h.html#a7def31373854ba9c72bb76b1d13e3aad">00199</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV8            (0x000000A0)</span>
<a name="l00200"></a><a class="code" href="clock__stm32_8h.html#a895462b261e03eade3d0139cc1327a51">00200</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV16           (0x000000B0)</span>
<a name="l00201"></a><a class="code" href="clock__stm32_8h.html#a73814b5a7ee000687ec8334637ca5b14">00201</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV64           (0x000000C0)</span>
<a name="l00202"></a><a class="code" href="clock__stm32_8h.html#a43eddf4d4160df30548a714dce102ad8">00202</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV128          (0x000000D0)</span>
<a name="l00203"></a><a class="code" href="clock__stm32_8h.html#a94956d6e9c3a78230bf660b838f987e2">00203</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV256          (0x000000E0)</span>
<a name="l00204"></a><a class="code" href="clock__stm32_8h.html#abe18a9d55c0858bbfe3db657fb64c76d">00204</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_SYSCLK_DIV512          (0x000000F0)</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00206"></a>00206 
<a name="l00210"></a>00210 <span class="comment">/*\{*/</span>
<a name="l00211"></a><a class="code" href="clock__stm32_8h.html#a3ba5335f82afa1083b532aab94efd871">00211</a> <span class="preprocessor">#define RCC_APB1_TIM2              (0x00000001)</span>
<a name="l00212"></a><a class="code" href="clock__stm32_8h.html#ad0d4681c9456c7161bf94bdd5a095770">00212</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_TIM3              (0x00000002)</span>
<a name="l00213"></a><a class="code" href="clock__stm32_8h.html#ab52090bacc1c0d4425981bf4f1f2783f">00213</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_TIM4              (0x00000004)</span>
<a name="l00214"></a><a class="code" href="clock__stm32_8h.html#adb23b693331cbb970449f5093a5389d7">00214</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_WWDG              (0x00000800)</span>
<a name="l00215"></a><a class="code" href="clock__stm32_8h.html#a4254d4910a1905d9ef803326ac45959a">00215</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_SPI2              (0x00004000)</span>
<a name="l00216"></a><a class="code" href="clock__stm32_8h.html#aa77ed4a407112786cba17dc4e226a196">00216</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_USART2            (0x00020000)</span>
<a name="l00217"></a><a class="code" href="clock__stm32_8h.html#ab65350e32b5510ecb233ef01635105bb">00217</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_USART3            (0x00040000)</span>
<a name="l00218"></a><a class="code" href="clock__stm32_8h.html#aedd2f56c46d8075faaa7e1280d265777">00218</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_I2C1              (0x00200000)</span>
<a name="l00219"></a><a class="code" href="clock__stm32_8h.html#ad2648e94a31cf03d28518e5d3f9187b7">00219</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_I2C2              (0x00400000)</span>
<a name="l00220"></a><a class="code" href="clock__stm32_8h.html#a1b2240a4c5d19bd1128cb55fdcd8ad08">00220</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_USB               (0x00800000)</span>
<a name="l00221"></a><a class="code" href="clock__stm32_8h.html#aec73f9152cf30dd2f05f162ef428237a">00221</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_CAN               (0x02000000)</span>
<a name="l00222"></a><a class="code" href="clock__stm32_8h.html#a959b8dad36f618aa2064cf7a3235ad5b">00222</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_BKP               (0x08000000)</span>
<a name="l00223"></a><a class="code" href="clock__stm32_8h.html#af81d02091b6e43b340c34b2f9288448f">00223</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_PWR               (0x10000000)</span>
<a name="l00224"></a><a class="code" href="clock__stm32_8h.html#ad79d350d26899e1de0bf04d9bff012cf">00224</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB1_ALL               (0x1AE64807)</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00226"></a>00226 
<a name="l00230"></a>00230 <span class="comment">/*\{*/</span>
<a name="l00231"></a><a class="code" href="clock__stm32_8h.html#a4815dd8cca8dc02f2ea478163a0986e1">00231</a> <span class="preprocessor">#define RCC_APB2_AFIO              (0x00000001)</span>
<a name="l00232"></a><a class="code" href="clock__stm32_8h.html#a90c442661bc0d218917911fbad0887a7">00232</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_GPIOA             (0x00000004)</span>
<a name="l00233"></a><a class="code" href="clock__stm32_8h.html#a1989fc4860bc2b24f3b923458d1f113a">00233</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_GPIOB             (0x00000008)</span>
<a name="l00234"></a><a class="code" href="clock__stm32_8h.html#ac7fbd1ca00d1374d43a0ed31929fea34">00234</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_GPIOC             (0x00000010)</span>
<a name="l00235"></a><a class="code" href="clock__stm32_8h.html#ad7c1ef1741ae53d1e289f5bb26ed5ffb">00235</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_GPIOD             (0x00000020)</span>
<a name="l00236"></a><a class="code" href="clock__stm32_8h.html#a6d9ead1aa7b4eae1f865fd373e4c4101">00236</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_GPIOE             (0x00000040)</span>
<a name="l00237"></a><a class="code" href="clock__stm32_8h.html#a818f1def97e8d18ce65ec01dfc2a349c">00237</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_ADC1              (0x00000200)</span>
<a name="l00238"></a><a class="code" href="clock__stm32_8h.html#aea4edb7059613775225cfe74e3737387">00238</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_ADC2              (0x00000400)</span>
<a name="l00239"></a><a class="code" href="clock__stm32_8h.html#a7e459eff7b8612a17e7b1f06964ea90a">00239</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_TIM1              (0x00000800)</span>
<a name="l00240"></a><a class="code" href="clock__stm32_8h.html#a9f4ee16cfd9d5dac3efdab99a1aba0bb">00240</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_SPI1              (0x00001000)</span>
<a name="l00241"></a><a class="code" href="clock__stm32_8h.html#adbcd63c0139efd7b531ed283c35dbacf">00241</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_USART1            (0x00004000)</span>
<a name="l00242"></a><a class="code" href="clock__stm32_8h.html#a46c7c7f305a302b7ae0f6a1409996562">00242</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_APB2_ALL               (0x00005E7D)</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span>
<a name="l00247"></a><a class="code" href="clock__stm32_8h.html#a00145f8814cb9a5b180d76499d97aead">00247</a> <span class="preprocessor">#define RCC_BDCR_LSEON             (0x00000001)</span>
<a name="l00248"></a><a class="code" href="clock__stm32_8h.html#aafca81172ed857ce6b94582fcaada87c">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_BDCR_LSERDY            (0x00000002)</span>
<a name="l00249"></a><a class="code" href="clock__stm32_8h.html#abe30dbd38f6456990ee641648bc05d40">00249</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_BDCR_RTCSEL            (0x00000300)</span>
<a name="l00250"></a><a class="code" href="clock__stm32_8h.html#a79ea6f2df75f09b17df9582037ed6a53">00250</a> <span class="preprocessor"></span><span class="preprocessor">#define RCC_BDCR_RTCEN             (0x00008000)</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span><span class="comment">/*\}*/</span>
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">/* Crystal frequency of the main oscillator (8MHz) */</span>
<a name="l00254"></a>00254 <span class="preprocessor">#define PLL_VCO                    8000000</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a>00256 <span class="comment">/* Reset and Clock Controller registers */</span>
<a name="l00257"></a>00257 <span class="keyword">struct </span>RCC
<a name="l00258"></a>00258 {
<a name="l00259"></a>00259     reg32_t CR;
<a name="l00260"></a>00260     reg32_t CFGR;
<a name="l00261"></a>00261     reg32_t CIR;
<a name="l00262"></a>00262     reg32_t APB2RSTR;
<a name="l00263"></a>00263     reg32_t APB1RSTR;
<a name="l00264"></a>00264     reg32_t AHBENR;
<a name="l00265"></a>00265     reg32_t APB2ENR;
<a name="l00266"></a>00266     reg32_t APB1ENR;
<a name="l00267"></a>00267     reg32_t BDCR;
<a name="l00268"></a>00268     reg32_t CSR;
<a name="l00269"></a>00269 };
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">/* RCC registers base */</span>
<a name="l00272"></a>00272 <span class="keyword">extern</span> <span class="keyword">struct </span>RCC *RCC;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="keywordtype">void</span> clock_init(<span class="keywordtype">void</span>);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 <span class="preprocessor">#endif </span><span class="comment">/* CLOCK_STM32_h */</span>
</pre></div></div>
</div>


