

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_9a060263bfb9303858e12a804212ea33.html">gfx</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">win.c File Reference</div>  </div>
</div>
<div class="contents">

<p>Very simple hierarchical windowing system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="win_8h_source.html">win.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">struct/list.h</a>&gt;</code><br/>
</div>
<p><a href="win_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#a5f59ae076d8224e84bc85eee8272b2a9">win_compose</a> (<a class="el" href="structWindow.html">Window</a> *w)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Map the contents of all child-windows into the bitmap of <em>w</em>.  <a href="#a5f59ae076d8224e84bc85eee8272b2a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#a5c97163d9320bc5e2e44f6d52283d812">win_open</a> (<a class="el" href="structWindow.html">Window</a> *w, <a class="el" href="structWindow.html">Window</a> *parent)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Map window <em>w</em> into <em>parent</em>.  <a href="#a5c97163d9320bc5e2e44f6d52283d812"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#a0144cf033db6552478db3873c223d403">win_close</a> (<a class="el" href="structWindow.html">Window</a> *w)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach window from its parent.  <a href="#a0144cf033db6552478db3873c223d403"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#aecd4c4839e415c01e62539670aea6b5a">win_raise</a> (<a class="el" href="structWindow.html">Window</a> *w)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Move window to the topmost position relative to its sibling.  <a href="#aecd4c4839e415c01e62539670aea6b5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#ad9f06e85354b22765da54efac559a553">win_setGeometry</a> (<a class="el" href="structWindow.html">Window</a> *w, const <a class="el" href="structRect.html">Rect</a> *new_geom)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set window position and size at the same time.  <a href="#ad9f06e85354b22765da54efac559a553"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#abf53ee8e4a6533905d44237f43df88de">win_move</a> (<a class="el" href="structWindow.html">Window</a> *w, <a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a> left, <a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a> top)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Move window to specified position.  <a href="#abf53ee8e4a6533905d44237f43df88de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#a654bf5f52ff2f2ad86782094217bf492">win_resize</a> (<a class="el" href="structWindow.html">Window</a> *w, <a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a> width, <a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a> height)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize the rectangle of a window.  <a href="#a654bf5f52ff2f2ad86782094217bf492"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="win_8c.html#a84b9cf79f481c13ef0faa42f891d31b2">win_create</a> (<a class="el" href="structWindow.html">Window</a> *w, <a class="el" href="structBitmap.html">Bitmap</a> *bm)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a new window structure.  <a href="#a84b9cf79f481c13ef0faa42f891d31b2"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Very simple hierarchical windowing system. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt;</dd></dl>
<p>All functions in this module are to be intended as methods of the <a class="el" href="structWindow.html" title="Window handle and context structure.">Window</a> class. Please see its documentation for a module-wise introduction.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__struct.html">Embedded optimized general purpose data types</a> <a class="el" href="structWindow.html" title="Window handle and context structure.">Window</a> </dd></dl>

<p>Definition in file <a class="el" href="win_8c_source.html">win.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a0144cf033db6552478db3873c223d403"></a><!-- doxytag: member="win.c::win_close" ref="a0144cf033db6552478db3873c223d403" args="(Window *w)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detach window from its parent. </p>
<p>Closing a window causes it to become orphan of its parent. Its content will no longer appear in its parent after the next refresh cycle.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Closing a window that has not been previously opened is illegal.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="win_8c.html#a5c97163d9320bc5e2e44f6d52283d812" title="Map window w into parent.">win_open()</a> </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00123">123</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5f59ae076d8224e84bc85eee8272b2a9"></a><!-- doxytag: member="win.c::win_compose" ref="a5f59ae076d8224e84bc85eee8272b2a9" args="(Window *w)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_compose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Map the contents of all child-windows into the bitmap of <em>w</em>. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Recursively drawing children into their parent effectively damages the parent buffer. </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00076">76</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="a84b9cf79f481c13ef0faa42f891d31b2"></a><!-- doxytag: member="win.c::win_create" ref="a84b9cf79f481c13ef0faa42f891d31b2" args="(Window *w, Bitmap *bm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBitmap.html">Bitmap</a> *&#160;</td>
          <td class="paramname"><em>bm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a new window structure. </p>
<p>The new window initial position is set to (0,0). The size is set to the size of the installed bitmap, or (0,0) if there's no backing store.</p>
<ul>
<li>bm The bitmap to install as backing store for drawing into the window, or NULL if the window is not drawable. </li>
</ul>

<p>Definition at line <a class="el" href="win_8c_source.html#l00218">218</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="abf53ee8e4a6533905d44237f43df88de"></a><!-- doxytag: member="win.c::win_move" ref="abf53ee8e4a6533905d44237f43df88de" args="(Window *w, coord_t left, coord_t top)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a>&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a>&#160;</td>
          <td class="paramname"><em>top</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move window to specified position. </p>
<p>Move the window top-left corner to the pixel coordinates <em>left</em> and <em>top</em>, which are relative to the parent window.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>A window can also be moved outside the borders of its parent, or at negative coordinates.</dd>
<dd>
It is allowed to move an orphan window. </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00173">173</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5c97163d9320bc5e2e44f6d52283d812"></a><!-- doxytag: member="win.c::win_open" ref="a5c97163d9320bc5e2e44f6d52283d812" args="(Window *w, Window *parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Map window <em>w</em> into <em>parent</em>. </p>
<p>The new window becomes the topmost window.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Opening a window twice is illegal.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="win_8c.html#a0144cf033db6552478db3873c223d403" title="Detach window from its parent.">win_close()</a> </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00104">104</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="aecd4c4839e415c01e62539670aea6b5a"></a><!-- doxytag: member="win.c::win_raise" ref="aecd4c4839e415c01e62539670aea6b5a" args="(Window *w)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_raise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move window to the topmost position relative to its sibling. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="win_8c.html#abf53ee8e4a6533905d44237f43df88de" title="Move window to specified position.">win_move()</a>, <a class="el" href="win_8c.html#a654bf5f52ff2f2ad86782094217bf492" title="Resize the rectangle of a window.">win_resize()</a>, <a class="el" href="win_8c.html#ad9f06e85354b22765da54efac559a553" title="Set window position and size at the same time.">win_setGeometry()</a> </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00135">135</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="a654bf5f52ff2f2ad86782094217bf492"></a><!-- doxytag: member="win.c::win_resize" ref="a654bf5f52ff2f2ad86782094217bf492" args="(Window *w, coord_t width, coord_t height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gfx_8h.html#a42746d495d7387857c767974b8c960a3">coord_t</a>&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resize the rectangle of a window. </p>
<p>The window shrinks or grows to the specified size.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Growing a window beyond the size of its backing bitmap results in unspecified behavior.</dd>
<dd>
It is allowed to resize an orphan window. </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00195">195</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad9f06e85354b22765da54efac559a553"></a><!-- doxytag: member="win.c::win_setGeometry" ref="ad9f06e85354b22765da54efac559a553" args="(Window *w, const Rect *new_geom)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void win_setGeometry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWindow.html">Window</a> *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structRect.html">Rect</a> *&#160;</td>
          <td class="paramname"><em>new_geom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set window position and size at the same time. </p>
<p>This function is equivalent to subsequent calls to <a class="el" href="win_8c.html#abf53ee8e4a6533905d44237f43df88de" title="Move window to specified position.">win_move()</a> and <a class="el" href="win_8c.html#a654bf5f52ff2f2ad86782094217bf492" title="Resize the rectangle of a window.">win_resize()</a> using the coordinates provided by the <em>new_geom</em> rectangle.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The xmax and ymax members of <em>new_geom</em> are non-inclusive, as usual for the <a class="el" href="structRect.html" title="Describe a rectangular area with coordinates expressed in pixels.">Rect</a> interface.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="win_8c.html#abf53ee8e4a6533905d44237f43df88de" title="Move window to specified position.">win_move()</a> </dd>
<dd>
<a class="el" href="win_8c.html#a654bf5f52ff2f2ad86782094217bf492" title="Resize the rectangle of a window.">win_resize()</a> </dd></dl>

<p>Definition at line <a class="el" href="win_8c_source.html#l00155">155</a> of file <a class="el" href="win_8c_source.html">win.c</a>.</p>

</div>
</div>
</div>


