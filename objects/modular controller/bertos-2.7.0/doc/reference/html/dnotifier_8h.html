

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_68f09be7290993d78ca9d2f4b29655ef.html">dt</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dnotifier.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Notifier obj (interface).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="debug_8h_source.html">cfg/debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dtag_8h_source.html">dt/dtag.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="list_8h_source.html">struct/list.h</a>&gt;</code><br/>
</div>
<p><a href="dnotifier_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDNotifier.html">DNotifier</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Base object for receive and forward messages.  <a href="structDNotifier.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDFilterMap.html">DFilterMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Map for messages.  <a href="structDFilterMap.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDFilter.html">DFilter</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A filter is an interface between two notifier.  <a href="structDFilter.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#ab27a95438c5ed0a06fb5a37f1e39de4c">DCONNECT</a>(src, tgt, map, opt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro that connect <em>src</em> notifier to <em>tgt</em> using <em>map</em> and passing <em>opt</em> for filtering option.  <a href="#ab27a95438c5ed0a06fb5a37f1e39de4c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a908b0a1ca7af02b68f662b157fc5c12d"></a><!-- doxytag: member="dnotifier.h::dfilter_mask_t" ref="a908b0a1ca7af02b68f662b157fc5c12d" args="" -->
typedef unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#a908b0a1ca7af02b68f662b157fc5c12d">dfilter_mask_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for filter-mask checking. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#aa9aa6e69cc0d2a23c31a5473e14e2fa6">filter_init</a> (<a class="el" href="structDFilter.html">DFilter</a> *f, const <a class="el" href="structDFilterMap.html">DFilterMap</a> *map, bool masked, <a class="el" href="structDNotifier.html">DNotifier</a> *source, <a class="el" href="structDNotifier.html">DNotifier</a> *target)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter init.  <a href="#aa9aa6e69cc0d2a23c31a5473e14e2fa6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#adf7b03403afca9cd1212be18c1a0cf7e">filter_update</a> (<a class="el" href="structDFilter.html">DFilter</a> *f, <a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a> tag, <a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a> val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter update function without masking capabilities.  <a href="#adf7b03403afca9cd1212be18c1a0cf7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#ae31c5240a3bc1d7f48c5ccc94378f471">filter_mask_update</a> (<a class="el" href="structDFilter.html">DFilter</a> *f, <a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a> tag, <a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a> val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter update function with masking capabilities.  <a href="#ae31c5240a3bc1d7f48c5ccc94378f471"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02ec4c103b824e2840fc0efaed9bfbc2"></a><!-- doxytag: member="dnotifier.h::notifier_init" ref="a02ec4c103b824e2840fc0efaed9bfbc2" args="(DNotifier *n)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#a02ec4c103b824e2840fc0efaed9bfbc2">notifier_init</a> (<a class="el" href="structDNotifier.html">DNotifier</a> *n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifier init. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d9422c96f770a9137812100d028ae9d"></a><!-- doxytag: member="dnotifier.h::dnotify" ref="a3d9422c96f770a9137812100d028ae9d" args="(DNotifier *target, dtag_t tag, dval_t val)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#a3d9422c96f770a9137812100d028ae9d">dnotify</a> (<a class="el" href="structDNotifier.html">DNotifier</a> *target, <a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a> tag, <a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a> val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to notify the target object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaab336a2f65ebd0363b8ef0efa663a2b"></a><!-- doxytag: member="dnotifier.h::dnotify_targets" ref="aaab336a2f65ebd0363b8ef0efa663a2b" args="(DNotifier *target, dtag_t tag, dval_t val)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dnotifier_8h.html#aaab336a2f65ebd0363b8ef0efa663a2b">dnotify_targets</a> (<a class="el" href="structDNotifier.html">DNotifier</a> *target, <a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a> tag, <a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a> val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to notify all the targets of <em>target</em> object. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Notifier obj (interface). </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt; </dd>
<dd>
Francesco Sacchi &lt;<a href="mailto:batt@develer.com">batt@develer.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="dnotifier_8h_source.html">dnotifier.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab27a95438c5ed0a06fb5a37f1e39de4c"></a><!-- doxytag: member="dnotifier.h::DCONNECT" ref="ab27a95438c5ed0a06fb5a37f1e39de4c" args="(src, tgt, map, opt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DCONNECT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">src, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tgt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
        <span class="keyword">static</span> <a class="code" href="structDFilter.html" title="A filter is an interface between two notifier.">DFilter</a> _filter_; <span class="comment">/* Declare a filter */</span> \
        <a class="code" href="dnotifier_8c.html#aa9aa6e69cc0d2a23c31a5473e14e2fa6" title="Init filter.">filter_init</a>(&amp;(_filter_), map, opt, src, tgt); <span class="comment">/* Init it. */</span> \
    } <span class="keywordflow">while</span> (0)
</pre></div>
<p>Macro that connect <em>src</em> notifier to <em>tgt</em> using <em>map</em> and passing <em>opt</em> for filtering option. </p>
<p>It declares a static filter to achieve connection and messages translation. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Due its static filter declaration, DCONNECT MUST NOT be used inside loops or in functions called multiple times. Failing to do so will lead to unpredictable connections between notifiers. </dd></dl>

<p>Definition at line <a class="el" href="dnotifier_8h_source.html#l00143">143</a> of file <a class="el" href="dnotifier_8h_source.html">dnotifier.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa9aa6e69cc0d2a23c31a5473e14e2fa6"></a><!-- doxytag: member="dnotifier.h::filter_init" ref="aa9aa6e69cc0d2a23c31a5473e14e2fa6" args="(DFilter *f, const DFilterMap *map, bool masked, DNotifier *source, DNotifier *target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filter_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDFilter.html">DFilter</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structDFilterMap.html">DFilterMap</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>masked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDNotifier.html">DNotifier</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDNotifier.html">DNotifier</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filter init. </p>
<p>Filter init.</p>
<p>If <em>masked</em> is true, all the fields value in <em>map</em> must be interpreted as a mask of bits. </p>

<p>Definition at line <a class="el" href="dnotifier_8c_source.html#l00143">143</a> of file <a class="el" href="dnotifier_8c_source.html">dnotifier.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae31c5240a3bc1d7f48c5ccc94378f471"></a><!-- doxytag: member="dnotifier.h::filter_mask_update" ref="ae31c5240a3bc1d7f48c5ccc94378f471" args="(DFilter *f, dtag_t tag, dval_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filter_mask_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDFilter.html">DFilter</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filter update function with masking capabilities. </p>
<p>Filter update function with masking capabilities.</p>
<p>If a match is found change them to the corresponding ones in the map. If map is NULL the filter is trasparent and all messages sent to filter will be forwarded to its target. </p>

<p>Definition at line <a class="el" href="dnotifier_8c_source.html#l00106">106</a> of file <a class="el" href="dnotifier_8c_source.html">dnotifier.c</a>.</p>

</div>
</div>
<a class="anchor" id="adf7b03403afca9cd1212be18c1a0cf7e"></a><!-- doxytag: member="dnotifier.h::filter_update" ref="adf7b03403afca9cd1212be18c1a0cf7e" args="(DFilter *f, dtag_t tag, dval_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filter_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDFilter.html">DFilter</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dtag_8h.html#a989a5440f3bb968849daeb67ac75c76f">dtag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dtag_8h.html#af717bf8c70ee5565efb1e10ca7c9d45a">dval_t</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filter update function without masking capabilities. </p>
<p>Filter update function without masking capabilities.</p>
<p>If a match is found change them to the corresponding ones in the map. If map is NULL the filter is trasparent and all messages sent to filter will be forwarded to its target. </p>

<p>Definition at line <a class="el" href="dnotifier_8c_source.html#l00070">70</a> of file <a class="el" href="dnotifier_8c_source.html">dnotifier.c</a>.</p>

</div>
</div>
</div>


