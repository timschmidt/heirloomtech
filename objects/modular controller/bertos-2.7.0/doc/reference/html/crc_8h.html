

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_7a1c32e0b61e66bba4924a9a48a40b57.html">algo</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">crc.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Cyclic Redundancy Check 16 (CRC).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cfg__arch_8h_source.html">cfg/cfg_arch.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="compiler_8h_source.html">cfg/compiler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cpu_2pgm_8h_source.html">cpu/pgm.h</a>&gt;</code><br/>
</div>
<p><a href="crc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8h.html#a71c4e39d8f0167909eba95cfb221f186">UPDCRC16</a>(c, oldcrc)&#160;&#160;&#160;((crc16tab[((oldcrc) &gt;&gt; 8) ^ ((unsigned char)(c))]) ^ ((oldcrc) &lt;&lt; 8))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the updated CRC16 value for one octet (macro version)  <a href="#a71c4e39d8f0167909eba95cfb221f186"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a7fe7a959900c48a3f1ec3921877967"></a><!-- doxytag: member="crc.h::CRC16_INIT_VAL" ref="a7a7fe7a959900c48a3f1ec3921877967" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8h.html#a7a7fe7a959900c48a3f1ec3921877967">CRC16_INIT_VAL</a>&#160;&#160;&#160;((uint16_t)0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">CRC-16 init value. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a441615212caafa9237de25c080920faf"></a><!-- doxytag: member="crc.h::updcrc16" ref="a441615212caafa9237de25c080920faf" args="(uint8_t c, uint16_t oldcrc)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8h.html#a441615212caafa9237de25c080920faf">updcrc16</a> (uint8_t c, uint16_t oldcrc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the updated CRC16 value for one octet (inline version) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8h.html#a3f139bc53ed52b40942f01a889b1070f">crc16</a> (uint16_t crc, const void *buf, size_t len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function implements the CRC 16 calculation on a buffer.  <a href="#a3f139bc53ed52b40942f01a889b1070f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Cyclic Redundancy Check 16 (CRC). </p>
<p>This algorithm is the one used by the XMODEM protocol.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This algorithm is incompatible with the CCITT-CRC16.</dd></dl>
<p>This code is based on the article Copyright 1986 Stephen Satchell.</p>
<p>Programmers may incorporate any or all code into their programs, giving proper credit within the source. Publication of the source routines is permitted so long as proper credit is given to Stephen Satchell, Satchell Evaluations and Chuck Forsberg, Omen Technology.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernie Innocenti &lt;<a href="mailto:bernie@codewiz.org">bernie@codewiz.org</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="crc_8h_source.html">crc.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a71c4e39d8f0167909eba95cfb221f186"></a><!-- doxytag: member="crc.h::UPDCRC16" ref="a71c4e39d8f0167909eba95cfb221f186" args="(c, oldcrc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPDCRC16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oldcrc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((crc16tab[((oldcrc) &gt;&gt; 8) ^ ((unsigned char)(c))]) ^ ((oldcrc) &lt;&lt; 8))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the updated CRC16 value for one octet (macro version) </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This version is only intended for old/broken compilers. Use the inline function in new code.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>New octet (range 0-255) </td></tr>
    <tr><td class="paramname">oldcrc</td><td>Previous CRC16 value (referenced twice, beware of side effects) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="crc_8h_source.html#l00077">77</a> of file <a class="el" href="crc_8h_source.html">crc.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3f139bc53ed52b40942f01a889b1070f"></a><!-- doxytag: member="crc.h::crc16" ref="a3f139bc53ed52b40942f01a889b1070f" args="(uint16_t crc, const void *buf, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t crc16 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function implements the CRC 16 calculation on a buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">crc</td><td>Current CRC16 value. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to perform CRC calculation on. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the Buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The updated CRC16 value. </dd></dl>

<p>Definition at line <a class="el" href="crc_8c_source.html#l00094">94</a> of file <a class="el" href="crc_8c_source.html">crc.c</a>.</p>

</div>
</div>
</div>


