

<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9fd71c1ac00056e7d855336b2291c56c.html">bertos</a>      </li>
      <li class="navelem"><a class="el" href="dir_e91c80130e425b11d52da5b92a7aa933.html">net</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">afsk.h File Reference</div>  </div>
</div>
<div class="contents">

<p>AFSK1200 modem.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cfg__afsk_8h_source.html">cfg/cfg_afsk.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hw__afsk_8h_source.html">hw/hw_afsk.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="compiler_8h_source.html">cfg/compiler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="io_2kfile_8h_source.html">io/kfile.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="fifobuf_8h_source.html">struct/fifobuf.h</a>&gt;</code><br/>
</div>
<p><a href="afsk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHdlc.html">Hdlc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HDLC (High-Level Data Link Control) context.  <a href="structHdlc.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAfsk.html">Afsk</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">AFSK1200 modem context.  <a href="structAfsk.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#a538e0cad3acb787a49e16b1e53787610">SAMPLERATE</a>&#160;&#160;&#160;9600</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC sample rate.  <a href="#a538e0cad3acb787a49e16b1e53787610"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;&#160;&#160;1200</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitrate of the received/transmitted data.  <a href="#a17468d10f0c67a4ee7b38aab09d9e096"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc27e633a81969b007bf9c4ebd71c380"></a><!-- doxytag: member="afsk.h::AFSK_RXFIFO_OVERRUN" ref="abc27e633a81969b007bf9c4ebd71c380" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#abc27e633a81969b007bf9c4ebd71c380">AFSK_RXFIFO_OVERRUN</a>&#160;&#160;&#160;BV(0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">RX FIFO buffer full error. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Afsk filter types.</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9afb6d3db4b2f808806d52db9f9d8073"></a><!-- doxytag: member="afsk.h::AFSK_BUTTERWORTH" ref="a9afb6d3db4b2f808806d52db9f9d8073" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AFSK_BUTTERWORTH</b>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4feb7ac8c74efaf3ac34774a082a1e24"></a><!-- doxytag: member="afsk.h::AFSK_CHEBYSHEV" ref="a4feb7ac8c74efaf3ac34774a082a1e24" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AFSK_CHEBYSHEV</b>&#160;&#160;&#160;1</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#aa329db7dfe432de72d8b7d7cd9c4eb7d">afsk_adc_isr</a> (<a class="el" href="structAfsk.html">Afsk</a> *af, int8_t sample)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC ISR callback.  <a href="#aa329db7dfe432de72d8b7d7cd9c4eb7d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#a3930063ec9d82dd3e4ede9b51bfe05b8">afsk_dac_isr</a> (<a class="el" href="structAfsk.html">Afsk</a> *af)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DAC ISR callback.  <a href="#a3930063ec9d82dd3e4ede9b51bfe05b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afsk_8h.html#adeb64b951e0db5f70d574a525ddbb1da">afsk_init</a> (<a class="el" href="structAfsk.html">Afsk</a> *af, int adc_ch, int dac_ch)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an AFSK1200 modem.  <a href="#adeb64b951e0db5f70d574a525ddbb1da"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>AFSK1200 modem. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Francesco Sacchi &lt;<a href="mailto:batt@develer.com">batt@develer.com</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a17468d10f0c67a4ee7b38aab09d9e096"></a><!-- doxytag: member="afsk.h::BITRATE" ref="a17468d10f0c67a4ee7b38aab09d9e096" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITRATE&#160;&#160;&#160;1200</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bitrate of the received/transmitted data. </p>
<p>The demodulator filters and decoderes are designed to work at this frequency. If you need to change this remember to update <a class="el" href="afsk_8c.html#a6e7a76ef4090f84faef32c36d5212818" title="ADC ISR callback.">afsk_adc_isr()</a>. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00069">69</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<a class="anchor" id="a538e0cad3acb787a49e16b1e53787610"></a><!-- doxytag: member="afsk.h::SAMPLERATE" ref="a538e0cad3acb787a49e16b1e53787610" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAMPLERATE&#160;&#160;&#160;9600</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ADC sample rate. </p>
<p>The demodulator filters are designed to work at this frequency. If you need to change this remember to update <a class="el" href="afsk_8c.html#a6e7a76ef4090f84faef32c36d5212818" title="ADC ISR callback.">afsk_adc_isr()</a>. </p>

<p>Definition at line <a class="el" href="afsk_8h_source.html#l00062">62</a> of file <a class="el" href="afsk_8h_source.html">afsk.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa329db7dfe432de72d8b7d7cd9c4eb7d"></a><!-- doxytag: member="afsk.h::afsk_adc_isr" ref="aa329db7dfe432de72d8b7d7cd9c4eb7d" args="(Afsk *af, int8_t sample)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void afsk_adc_isr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAfsk.html">Afsk</a> *&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>curr_sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ADC ISR callback. </p>
<p>This function has to be called by the ADC ISR when a sample of the configured channel is available. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">af</td><td><a class="el" href="structAfsk.html" title="AFSK1200 modem context.">Afsk</a> context to operate on. </td></tr>
    <tr><td class="paramname">curr_sample</td><td>current sample from the ADC. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="afsk_8c_source.html#l00210">210</a> of file <a class="el" href="afsk_8c_source.html">afsk.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3930063ec9d82dd3e4ede9b51bfe05b8"></a><!-- doxytag: member="afsk.h::afsk_dac_isr" ref="a3930063ec9d82dd3e4ede9b51bfe05b8" args="(Afsk *af)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t afsk_dac_isr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAfsk.html">Afsk</a> *&#160;</td>
          <td class="paramname"><em>af</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>DAC ISR callback. </p>
<p>This function has to be called by the DAC ISR when a sample of the configured channel has been converted out.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">af</td><td><a class="el" href="structAfsk.html" title="AFSK1200 modem context.">Afsk</a> context to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The next DAC output sample. </dd></dl>

<p>Definition at line <a class="el" href="afsk_8c_source.html#l00342">342</a> of file <a class="el" href="afsk_8c_source.html">afsk.c</a>.</p>

</div>
</div>
<a class="anchor" id="adeb64b951e0db5f70d574a525ddbb1da"></a><!-- doxytag: member="afsk.h::afsk_init" ref="adeb64b951e0db5f70d574a525ddbb1da" args="(Afsk *af, int adc_ch, int dac_ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void afsk_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAfsk.html">Afsk</a> *&#160;</td>
          <td class="paramname"><em>af</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>adc_ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dac_ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize an AFSK1200 modem. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">af</td><td><a class="el" href="structAfsk.html" title="AFSK1200 modem context.">Afsk</a> context to operate on. </td></tr>
    <tr><td class="paramname">adc_ch</td><td>ADC channel used by the demodulator. </td></tr>
    <tr><td class="paramname">dac_ch</td><td>DAC channel used by the modulator. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="afsk_8c_source.html#l00537">537</a> of file <a class="el" href="afsk_8c_source.html">afsk.c</a>.</p>

</div>
</div>
</div>


